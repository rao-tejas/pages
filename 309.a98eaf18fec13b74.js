"use strict";(self.webpackChunknmmc_rts_frontend=self.webpackChunknmmc_rts_frontend||[]).push([[309],{3309:(Ea,S,h)=>{h.r(S),h.d(S,{SolidWasteManagementModule:()=>La});var F=h(1896),e=h(5879),g=h(6814);function R(a,r){if(1&a&&(e.TgZ(0,"div",2)(1,"div",3)(2,"h3",4),e._uU(3),e.qZA()(),e._uU(4," \xa0\xa0"),e.qZA()),2&a){const t=r.$implicit;e.xp6(1),e.s9C("routerLink",t.routerLink),e.xp6(2),e.Oqu(t.title)}}let M=(()=>{class a{constructor(){this.masterItems=[{title:"Contractor Master",routerLink:"contractor"},{title:"Vehicle Type Master",routerLink:"vehicle-type"},{title:"Waste Classification Master",routerLink:"waste-classification"},{title:"Contractor Vehicle Master",routerLink:"contractor-vehicle"},{title:"Location",routerLink:"location"},{title:"Location Type",routerLink:"location-type"},{title:"Vehicle Parking",routerLink:"vehicle-parking"},{title:"Bin",routerLink:"bin"}]}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-solid-waste-management"]],decls:2,vars:1,consts:[[1,"flex","flex-wrap","drop-shadow-lg","p-5","custom"],["class","w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6 mb-4 px-2 ",4,"ngFor","ngForOf"],[1,"w-full","sm:w-1/2","md:w-1/3","lg:w-1/4","xl:w-1/6","mb-4","px-2"],[1,"bg-white","p-8","rounded-lg","shadow-md",3,"routerLink"],[1,"text-xl","font-semibold"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.YNc(1,R,5,2,"div",1),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",o.masterItems))},dependencies:[F.rH,g.sg]})}return a})();var c=h(5313),_=h(1476),f=h(3566),s=h(6223),u=h(7700),Z=h(7610),m=h(553),$=h(9862);let v=(()=>{class a{constructor(t){this.http=t}getContractor(){return this.http.get(`${m.N.swmUrl}/api/master/contractor/getAllDashboard`)}getByActiveFlagContractor(){return this.http.get(`${m.N.swmUrl}/api/master/contractor/getAll`)}activeInactiveContractor(t,i){return this.http.post(`${m.N.swmUrl}/api/master/contractor/activeInActive?id=${t}&activeFlag=${i.activeFlag}`,null)}saveContractor(t){return this.http.post(`${m.N.swmUrl}/api/master/contractor/save`,t)}getVehicleType(){return this.http.get(`${m.N.swmUrl}/api/master/vehicletype/getAllDashboard`)}getByActiveFlagVehicleType(){return this.http.get(`${m.N.swmUrl}/api/master/vehicletype/getAll`)}activeInactiveVehicleType(t,i){return this.http.post(`${m.N.swmUrl}/api/master/vehicletype/activeInActive?id=${t}&activeFlag=${i}`,null)}saveVehicleType(t){return this.http.post(`${m.N.swmUrl}/api/master/vehicletype/save`,t)}getWasteClassification(){return this.http.get(`${m.N.swmUrl}/api/master/wasteclassification/getAllDashboard`)}getByActiveFlagWasteClassification(){return this.http.get(`${m.N.swmUrl}/api/master/wasteclassification/getAll`)}activeInactiveWasteClassification(t,i){return this.http.post(`${m.N.swmUrl}/api/master/wasteclassification/activeInActive?id=${t}&activeFlag=${i}`,null)}saveWasteClassification(t){return this.http.post(`${m.N.swmUrl}/api/master/wasteclassification/save`,t)}getContractorVehicle(){return this.http.get(`${m.N.swmUrl}/api/master/contractorvehicle/getAllDashboard`)}getByActiveFlagContractorVehicle(){return this.http.get(`${m.N.swmUrl}/api/master/contractorvehicle/getAll`)}activeInactiveContractorVehicle(t,i){return this.http.post(`${m.N.swmUrl}/api/master/contractorvehicle/activeInActive?id=${t}&activeFlag=${i}`,null)}saveContractorVehicle(t){return this.http.post(`${m.N.swmUrl}/api/master/contractorvehicle/save`,t)}getBin(){return this.http.get(`${m.N.swmUrl}/api/master/bin/getAllDashboard`)}getByActiveFlagBin(){return this.http.get(`${m.N.swmUrl}/api/master/bin/getAll`)}activeInactiveBin(t,i){return this.http.post(`${m.N.swmUrl}/api/master/bin/activeInActive?id=${t}&activeFlag=${i.activeFlag}`,null)}saveBin(t){return this.http.post(`${m.N.swmUrl}/api/master/bin/save`,t)}getVehicleParking(){return this.http.get(`${m.N.swmUrl}/api/master/vehicleparking/getAllDashboard`)}getByActiveFlagVehicleParking(){return this.http.get(`${m.N.swmUrl}/api/master/vehicleparking/getAll`)}activeInactiveVehicleParking(t,i){return this.http.post(`${m.N.swmUrl}/api/master/vehicleparking/activeInActive?id=${t}&activeFlag=${i.activeFlag}`,null)}saveVehicleParking(t){return this.http.post(`${m.N.swmUrl}/api/master/vehicleparking/save`,t)}getLocation(){return this.http.get(`${m.N.swmUrl}/api/master/location/getAllDashboard`)}getByActiveFlagLocation(){return this.http.get(`${m.N.swmUrl}/api/master/location/getAll`)}activeInactiveLocation(t,i){return this.http.post(`${m.N.swmUrl}/api/master/location/activeInActive?id=${t}&activeFlag=${i.activeFlag}`,null)}saveLocation(t){return this.http.post(`${m.N.swmUrl}/api/master/location/save`,t)}getLocationType(){return this.http.get(`${m.N.swmUrl}/api/master/locationtype/getAllDashboard`)}getByActiveFlagLocationType(){return this.http.get(`${m.N.swmUrl}/api/master/locationtype/getAll`)}activeInactiveLocationType(t,i){return this.http.post(`${m.N.swmUrl}/api/master/locationtype/activeInActive?id=${t}&activeFlag=${i.activeFlag}`,null)}saveLocationType(t){return this.http.post(`${m.N.swmUrl}/api/master/locationtype/save`,t)}getsectorbyward(t){return this.http.get(`${m.N.commonUrl}/api/master/sector/getSectorByWardId?wardId=${t}`)}getlsectorbynode(t){return this.http.get(`${m.N.commonUrl}/api/master/sector/getSectorByNodeId?nodeId=${t}`)}getNode(){return this.http.get(`${m.N.commonUrl}/api/master/node/getAllDashBoard`)}getWard(){return this.http.get(`${m.N.commonUrl}/api/master/ward/getAllWard`)}static#e=this.\u0275fac=function(i){return new(i||a)(e.LFG($.eN))};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var C=h(4142),k=h(2939),b=h(617),p=h(9157),T=h(2032);function P(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Company Name is required. "),e.qZA())}function O(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Company Address is required. "),e.qZA())}function W(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Pan Card Number is required. "),e.qZA())}function H(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid Pan Card Number. "),e.qZA())}function j(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Contact Person Name is required. "),e.qZA())}function G(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Contact Person Number is required. "),e.qZA())}function K(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid 10-digit Contact Person Number. "),e.qZA())}function z(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Email ID is required. "),e.qZA())}function X(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid Email ID. "),e.qZA())}let D=(()=>{class a{constructor(t,i,o,n,l,d,y){this.fb=t,this.contractorService=i,this._snackBar=o,this.snackBar=n,this.dialog=l,this.dialogRef=d,this.data=y,this.errorMessage=""}ngOnInit(){if(this.userId=localStorage.getItem("userId"),this.createdUserId=this.userId,this.updateUserId=this.userId,this.addedit=this.data.isEditMode,this.contractorForm=this.fb.group({companyName:["",s.kI.required],companyAddress:["",s.kI.required],companyPanCardNo:["",[s.kI.required,s.kI.pattern("[A-Z]{5}[0-9]{4}[A-Z]{1}"),s.kI.minLength(10),s.kI.maxLength(10)]],contactPersonName:["",s.kI.required],contactPersonNumber:["",[s.kI.required,s.kI.pattern("^[0-9]*$"),s.kI.minLength(10),s.kI.maxLength(10)]],contactPersonDesignation:[""],emailId:["",[s.kI.required,s.kI.email]]}),this.addedit){const i=this.data.row;this.id=i.id,this.createdUserId=i.createdUserId,this.updateUserId=this.userId,this.contractorForm.patchValue({companyName:i.companyName,companyAddress:i.companyAddress,companyPanCardNo:i.companyPanCardNo,contactPersonName:i.contactPersonName,contactPersonNumber:i.contactPersonNumber,contactPersonDesignation:i.contactPersonDesignation,emailId:i.emailId})}}save(){if(this.contractorForm.valid){const t={id:this.id,companyName:this.contractorForm.value.companyName,companyAddress:this.contractorForm.value.companyAddress,companyPanCardNo:this.contractorForm.value.companyPanCardNo,contactPersonName:this.contractorForm.value.contactPersonName,contactPersonNumber:this.contractorForm.value.contactPersonNumber,contactPersonDesignation:this.contractorForm.value.contactPersonDesignation,emailId:this.contractorForm.value.emailId,createdUserId:this.createdUserId,updateUserId:this.updateUserId,activeFlag:"Y"};this.dialog.open(Z.S,{width:"550px",data:{mode:this.addedit?"Edit":"Add",component:"Contractor"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(o=>{"success"===o&&this.contractorService.saveContractor(t).subscribe(n=>{"Success"===n.status?(this.showSnackBar(0==this.addedit?"contractor added successfully":"contractor updated successfully","success"),setTimeout(()=>{this.dialogRef.close({data:"Success"})},1e3)):this.showSnackBar(0==this.addedit?"Error: contractor addition failed":"Error: contractor updation failed","error")},n=>{this.showSnackBar(0==this.addedit?"Error: contractor addition failed":"Error: contractor updation failed","error")})})}}showSnackBar(t,i){this.snackBar.open(t,"Close",{duration:3e3,panelClass:"success"===i?["success-snackbar"]:["error-snackbar"]})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(s.qu),e.Y36(v),e.Y36(C.a),e.Y36(k.ux),e.Y36(u.uw),e.Y36(u.so),e.Y36(u.WI))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-contractor"]],decls:49,vars:12,consts:[[1,"bg-gray-100","p-6"],["id","close-icon",1,"close-icon",2,"float","right","cursor","pointer",3,"click"],[1,"mx-auto","max-w-md"],[1,"text-2xl","font-bold","mb-8"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","lg:grid-cols-1","gap-3"],[1,"w-full"],["matInput","","formControlName","companyName","required",""],[4,"ngIf"],["matInput","","formControlName","companyAddress","required",""],["matInput","","maxlength","10","minlength","10","formControlName","companyPanCardNo"],["matInput","","formControlName","contactPersonName","required",""],["matInput","","formControlName","contactPersonNumber","required","","pattern","^[0-9]{10}$"],["matInput","","formControlName","contactPersonDesignation"],["matInput","","formControlName","emailId","required","","email",""],["type","submit",1,"w-full","disabled:bg-gray-300","px-6","py-3","mt-3","text-lg","text-white","transition-all","duration-150","ease-linear","rounded-lg","shadow","outline-none","bg-green-500","hover:bg-green-600","hover:shadow-lg","focus:outline-none"],[1,"text-center","text-red-500","mt-2"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"mat-icon",1),e.NdJ("click",function(){return o.dialogRef.close()}),e._uU(2,"close"),e.qZA(),e.TgZ(3,"div",2)(4,"h1",3),e._uU(5),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Company Name"),e.qZA(),e._UZ(11,"input",7),e.YNc(12,P,2,0,"mat-error",8),e.qZA(),e.TgZ(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Company Address"),e.qZA(),e._UZ(16,"input",9),e.YNc(17,O,2,0,"mat-error",8),e.qZA(),e.TgZ(18,"mat-form-field",6)(19,"mat-label"),e._uU(20,"Company PAN Card No"),e.qZA(),e._UZ(21,"input",10),e.YNc(22,W,2,0,"mat-error",8),e.YNc(23,H,2,0,"mat-error",8),e.qZA(),e.TgZ(24,"mat-form-field",6)(25,"mat-label"),e._uU(26,"Contact Person Name"),e.qZA(),e._UZ(27,"input",11),e.YNc(28,j,2,0,"mat-error",8),e.qZA(),e.TgZ(29,"mat-form-field",6)(30,"mat-label"),e._uU(31,"Contact Person Number"),e.qZA(),e._UZ(32,"input",12),e.YNc(33,G,2,0,"mat-error",8),e.YNc(34,K,2,0,"mat-error",8),e.qZA(),e.TgZ(35,"mat-form-field",6)(36,"mat-label"),e._uU(37,"Contact Person Designation"),e.qZA(),e._UZ(38,"input",13),e.qZA(),e.TgZ(39,"mat-form-field",6)(40,"mat-label"),e._uU(41,"Email ID"),e.qZA(),e._UZ(42,"input",14),e.YNc(43,z,2,0,"mat-error",8),e.YNc(44,X,2,0,"mat-error",8),e.qZA()(),e.TgZ(45,"button",15),e._uU(46," Save "),e.qZA(),e.TgZ(47,"div",16),e._uU(48),e.qZA()()()()),2&i&&(e.xp6(5),e.hij("",o.addedit?"Edit":"Add"," Contractor"),e.xp6(1),e.Q6J("formGroup",o.contractorForm),e.xp6(6),e.Q6J("ngIf",o.contractorForm.get("companyName").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.contractorForm.get("companyAddress").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.contractorForm.get("companyPanCardNo").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.contractorForm.get("companyPanCardNo").hasError("pattern")),e.xp6(5),e.Q6J("ngIf",o.contractorForm.get("contactPersonName").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.contractorForm.get("contactPersonNumber").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.contractorForm.get("contactPersonNumber").hasError("pattern")),e.xp6(9),e.Q6J("ngIf",o.contractorForm.get("emailId").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.contractorForm.get("emailId").hasError("email")),e.xp6(4),e.hij(" ",o.errorMessage," "))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.c5,s.on,s.sg,s.u,b.Hw,p.KE,p.hX,p.TO,T.Nt,g.O5]})}return a})();var N=h(5287),x=h(2296),w=h(5195),A=h(2599),I=h(2268);function ee(a,r){if(1&a&&(e.TgZ(0,"th",24),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.header)}}function te(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.columnDef]," ")}}function ae(a,r){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=e.oxw().index;e.xp6(1),e.hij(" ",t+1," ")}}function ie(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",28)(1,"mat-slide-toggle",29),e.NdJ("change",function(o){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.onSlideToggleChange(n,o))}),e.qZA(),e.TgZ(2,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw(3);return e.KtG(n.onEdit(o))}),e.TgZ(3,"mat-icon"),e._uU(4,"edit"),e.qZA()()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("checked","Y"===t.activeFlag),e.xp6(1),e.Q6J("disabled","N"===t.activeFlag)}}function oe(a,r){if(1&a&&(e.TgZ(0,"td",25),e.YNc(1,te,2,1,"ng-container",26),e.YNc(2,ae,2,1,"div",16),e.YNc(3,ie,5,2,"ng-template",null,27,e.W1O),e.qZA()),2&a){const t=e.MAs(4),i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","actions"!==i.columnDef&&"sno"!==i.Def)("ngIfElse",t),e.xp6(1),e.Q6J("ngIf","sno"===i.columnDef)}}function ne(a,r){1&a&&(e.ynx(0,21),e.YNc(1,ee,2,1,"th",22),e.YNc(2,oe,5,3,"td",23),e.BQk()),2&a&&e.Q6J("matColumnDef",r.$implicit.columnDef)}function re(a,r){1&a&&e._UZ(0,"tr",31)}function se(a,r){1&a&&e._UZ(0,"tr",32)}function ce(a,r){if(1&a&&(e.TgZ(0,"table",17),e.YNc(1,ne,3,1,"ng-container",18),e.YNc(2,re,1,0,"tr",19),e.YNc(3,se,1,0,"tr",20),e.qZA()),2&a){const t=e.oxw();e.Q6J("dataSource",t.departments),e.xp6(1),e.Q6J("ngForOf",t.columnNames),e.xp6(1),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}function le(a,r){1&a&&e._UZ(0,"ngx-skeleton-loader",33)}function de(a,r){1&a&&(e.TgZ(0,"h3"),e._uU(1,"No data available."),e.qZA())}const me=function(){return[20,40,60]};let ue=(()=>{class a{constructor(t,i,o){this.swmService=t,this.dialog=i,this._snackBar=o,this.columnNames=[{columnDef:"sno",header:"Sr.No."},{columnDef:"companyName",header:"Company Name"},{columnDef:"companyAddress",header:"Company Address"},{columnDef:"companyPanCardNo",header:"Company PAN Card No"},{columnDef:"contactPersonName",header:"Contact Person Name"},{columnDef:"contactPersonNumber",header:"Contact Person Number"},{columnDef:"contactPersonDesignation",header:"Contact Person Designation"},{columnDef:"emailId",header:"Email ID"},{columnDef:"actions",header:"Actions"}],this.departments=new c.by,this.displayedColumns=[],this.contentLoaded=!1,this.statusAction=""}ngOnInit(){this.displayedColumns=this.displayedColumns.concat(this.columnNames.map(t=>t.columnDef)),this.getContractor()}getContractor(){this.swmService.getContractor().subscribe(t=>{this.departments.data=t.contractorMasterList,this.departments.data=this.departments.data.sort((i,o)=>i.id-o.id),setTimeout(()=>{this.departments.sort=this.sort,this.departments.paginator=this.paginator}),setTimeout(()=>{this.contentLoaded=!0},2e3)},t=>{this.contentLoaded=!0})}add(){this.dialog.open(D,{width:"550px",data:{isEditMode:!1}}).afterClosed().subscribe(i=>{"Success"==i.data&&(this.contentLoaded=!1,this.getContractor())})}applyFilter(t){this.departments.filter=t.target.value.trim().toLowerCase()}onSlideToggleChange(t,i){1==i.checked?(this.statusAction="Activate",t.activeFlag="Y"):(this.statusAction="Deactivate",t.activeFlag="N");var o={activeFlag:t.activeFlag};this.dialog.open(N.h,{width:"550px",data:{mode:this.statusAction,component:"contractor"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(l=>{"success"==l?"Activate"==this.statusAction?this.swmService.activeInactiveContractor(t.id,o).subscribe(d=>{this._snackBar.success("Selected contractor activated"),this.getContractor()},d=>{this._snackBar.error("Activation Failed"),this.getContractor()}):this.swmService.activeInactiveContractor(t.id,o).subscribe(d=>{this._snackBar.success("Selected contractor Deactivated"),this.getContractor()},d=>{this._snackBar.error("Deactivation Failed"),this.getContractor()}):this.getContractor()})}onEdit(t){this.dialog.open(D,{width:"550px",data:{isEditMode:!0,row:t}}).afterClosed().subscribe(o=>{"Success"==o.data&&(this.contentLoaded=!1,this.getContractor())})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(v),e.Y36(u.uw),e.Y36(C.a))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-contractor"]],viewQuery:function(i,o){if(1&i&&(e.Gf(f.YE,5),e.Gf(_.NW,5)),2&i){let n;e.iGM(n=e.CRH())&&(o.sort=n.first),e.iGM(n=e.CRH())&&(o.paginator=n.first)}},decls:21,vars:7,consts:[[2,"margin","1.4rem"],[1,"w-full","p-4"],[1,"lg:flex","lg:items-center","lg:justify-between"],[1,"min-w-0","flex-1"],[1,"text-2xl","font-bold"],[1,"mt-5","flex","lg:ml-4","lg:mt-0"],[1,"sm:ml-3"],["type","button",1,"text-white","bg-gray-800","hover:bg-gray-900","focus:outline-none","focus:ring-4","focus:ring-gray-300","font-medium","rounded-lg","text-lg","px-2","py-2.5","text-center","inline-flex","items-center","mr-2","dark:bg-gray-800","dark:hover:bg-gray-700","dark:focus:ring-gray-700","dark:border-gray-700",3,"click"],["aria-hidden","true","fill","currentColor","stroke","currentColor","stroke-width","1.5","viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg","aria-hidden","true",1,"w-5","h-5","mr-2","-ml-1","mb-2"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v12m6-6H6"],["appearance","outline",1,"searchBox"],["matInput","","placeholder","Search",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["count","4","appearance","line","animation","progress-dark",4,"ngIf"],[4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["slideToggleTemplate",""],[1,"action"],[1,"mdc-switch",3,"checked","change"],["mat-icon-button","","matTooltip","Edit Job",3,"disabled","click"],["mat-header-row",""],["mat-row",""],["count","4","appearance","line","animation","progress-dark"]],template:function(i,o){1&i&&(e.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),e._uU(6,"Contractor"),e.qZA()(),e.TgZ(7,"div",5)(8,"span",6)(9,"button",7),e.NdJ("click",function(){return o.add()}),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA(),e._uU(12," Add new Contractor "),e.qZA()()()()(),e.kcU(),e.TgZ(13,"div",1)(14,"mat-form-field",10)(15,"input",11,12),e.NdJ("keyup",function(l){return o.applyFilter(l)}),e.qZA()(),e.YNc(17,ce,4,4,"table",13),e._UZ(18,"mat-paginator",14),e.YNc(19,le,1,0,"ngx-skeleton-loader",15),e.YNc(20,de,2,0,"h3",16),e.qZA()()()),2&i&&(e.ekj("mat-elevation-z8",!0),e.xp6(17),e.Q6J("ngIf",o.departments.data.length>0&&o.contentLoaded),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,me)),e.xp6(1),e.Q6J("ngIf",!o.contentLoaded),e.xp6(1),e.Q6J("ngIf",0==o.departments.data.length&&o.contentLoaded))},dependencies:[x.RK,b.Hw,w.a8,w.dn,p.KE,T.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,f.YE,f.nU,A.Rr,I.xr,g.sg,g.O5]})}return a})();function pe(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Vehicle Type Name is required. "),e.qZA())}let J=(()=>{class a{constructor(t,i,o,n,l,d,y){this.fb=t,this.vehicleTypeService=i,this._snackBar=o,this.snackBar=n,this.dialog=l,this.dialogRef=d,this.data=y,this.errorMessage=""}ngOnInit(){if(this.userId=localStorage.getItem("userId"),this.createdUserId=this.userId,this.updateUserId=this.userId,this.addedit=this.data.isEditMode,this.vehicleTypeForm=this.fb.group({vehicleTypeName:["",s.kI.required],description:[""]}),this.addedit){const t=this.data.row;this.id=t.id,this.createdUserId=t.createdUserId,this.updateUserId=this.userId,this.vehicleTypeForm.patchValue({vehicleTypeName:t.vehicleTypeName,description:t.description})}}save(){if(this.vehicleTypeForm.valid){const t={id:this.id,vehicleTypeName:this.vehicleTypeForm.value.vehicleTypeName,description:this.vehicleTypeForm.value.description,createdUserId:this.createdUserId,updateUserId:this.updateUserId,activeFlag:"Y"};this.dialog.open(Z.S,{width:"550px",data:{mode:this.addedit?"Edit":"Add",component:"Vehicle Type"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(o=>{"success"===o&&this.vehicleTypeService.saveVehicleType(t).subscribe(n=>{"Success"==n.status?(this.showSnackBar(0==this.addedit?"vehicle type added successfully":"vehicle type updated successfully","success"),setTimeout(()=>{this.dialogRef.close({data:"Success"})},1e3)):this.showSnackBar(0==this.addedit?"Error: vehicle type addition failed":"Error: vehicle type updation failed","error")},n=>{this.showSnackBar(0==this.addedit?"Error: vehicle type addition failed":"Error: vehicle type updation failed","error")})})}}showSnackBar(t,i){this.snackBar.open(t,"Close",{duration:3e3,panelClass:"success"===i?["success-snackbar"]:["error-snackbar"]})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(s.qu),e.Y36(v),e.Y36(C.a),e.Y36(k.ux),e.Y36(u.uw),e.Y36(u.so),e.Y36(u.WI))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-vehicle-type"]],decls:21,vars:4,consts:[[1,"bg-gray-100","p-6"],["id","close-icon",1,"close-icon",2,"float","right","cursor","pointer",3,"click"],[1,"mx-auto","max-w-md"],[1,"text-2xl","font-bold","mb-8"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","lg:grid-cols-1","gap-3"],[1,"w-full"],["matInput","","formControlName","vehicleTypeName","required",""],[4,"ngIf"],["matInput","","formControlName","description"],["type","submit",1,"w-full","disabled:bg-gray-300","px-6","py-3","mt-3","text-lg","text-white","transition-all","duration-150","ease-linear","rounded-lg","shadow","outline-none","bg-green-500","hover:bg-green-600","hover:shadow-lg","focus:outline-none"],[1,"text-center","text-red-500","mt-2"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"mat-icon",1),e.NdJ("click",function(){return o.dialogRef.close()}),e._uU(2,"close"),e.qZA(),e.TgZ(3,"div",2)(4,"h1",3),e._uU(5),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Vehicle Type Name"),e.qZA(),e._UZ(11,"input",7),e.YNc(12,pe,2,0,"mat-error",8),e.qZA(),e.TgZ(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Description"),e.qZA(),e._UZ(16,"input",9),e.qZA()(),e.TgZ(17,"button",10),e._uU(18," Save "),e.qZA(),e.TgZ(19,"div",11),e._uU(20),e.qZA()()()()),2&i&&(e.xp6(5),e.hij("",o.addedit?"Edit":"Add"," Vehicle Type"),e.xp6(1),e.Q6J("formGroup",o.vehicleTypeForm),e.xp6(6),e.Q6J("ngIf",o.vehicleTypeForm.get("vehicleTypeName").hasError("required")),e.xp6(8),e.hij(" ",o.errorMessage," "))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,b.Hw,p.KE,p.hX,p.TO,T.Nt,g.O5]})}return a})();function ge(a,r){if(1&a&&(e.TgZ(0,"th",24),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.header)}}function he(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.columnDef]," ")}}function fe(a,r){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=e.oxw().index;e.xp6(1),e.hij(" ",t+1," ")}}function _e(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",28)(1,"mat-slide-toggle",29),e.NdJ("change",function(o){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.onSlideToggleChange(n,o))}),e.qZA(),e.TgZ(2,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw(3);return e.KtG(n.onEdit(o))}),e.TgZ(3,"mat-icon"),e._uU(4,"edit"),e.qZA()()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("checked","Y"===t.activeFlag),e.xp6(1),e.Q6J("disabled","N"===t.activeFlag)}}function ve(a,r){if(1&a&&(e.TgZ(0,"td",25),e.YNc(1,he,2,1,"ng-container",26),e.YNc(2,fe,2,1,"div",16),e.YNc(3,_e,5,2,"ng-template",null,27,e.W1O),e.qZA()),2&a){const t=e.MAs(4),i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","actions"!==i.columnDef&&"sno"!==i.Def)("ngIfElse",t),e.xp6(1),e.Q6J("ngIf","sno"===i.columnDef)}}function Ce(a,r){1&a&&(e.ynx(0,21),e.YNc(1,ge,2,1,"th",22),e.YNc(2,ve,5,3,"td",23),e.BQk()),2&a&&e.Q6J("matColumnDef",r.$implicit.columnDef)}function be(a,r){1&a&&e._UZ(0,"tr",31)}function Te(a,r){1&a&&e._UZ(0,"tr",32)}function we(a,r){if(1&a&&(e.TgZ(0,"table",17),e.YNc(1,Ce,3,1,"ng-container",18),e.YNc(2,be,1,0,"tr",19),e.YNc(3,Te,1,0,"tr",20),e.qZA()),2&a){const t=e.oxw();e.Q6J("dataSource",t.departments),e.xp6(1),e.Q6J("ngForOf",t.columnNames),e.xp6(1),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}function ye(a,r){1&a&&e._UZ(0,"ngx-skeleton-loader",33)}function Ze(a,r){1&a&&(e.TgZ(0,"h3"),e._uU(1,"No data available."),e.qZA())}const ke=function(){return[20,40,60]};let Ne=(()=>{class a{constructor(t,i,o){this.swmService=t,this.dialog=i,this._snackBar=o,this.columnNames=[{columnDef:"sno",header:"Sr.No."},{columnDef:"vehicleTypeName",header:"Vehicle Type Name"},{columnDef:"description",header:"Description"},{columnDef:"actions",header:"Actions"}],this.departments=new c.by,this.displayedColumns=[],this.contentLoaded=!1,this.statusAction=""}ngOnInit(){this.displayedColumns=this.displayedColumns.concat(this.columnNames.map(t=>t.columnDef)),this.getVehicleType()}getVehicleType(){this.swmService.getVehicleType().subscribe(t=>{this.departments.data=t.vehicleTypeMasterList,this.departments.data=this.departments.data.sort((i,o)=>i.id-o.id),setTimeout(()=>{this.departments.sort=this.sort,this.departments.paginator=this.paginator}),setTimeout(()=>{this.contentLoaded=!0},2e3)},t=>{this.contentLoaded=!0})}add(){this.dialog.open(J,{width:"550px",data:{isEditMode:!1}}).afterClosed().subscribe(i=>{"Success"==i.data&&(this.contentLoaded=!1,this.getVehicleType())})}applyFilter(t){this.departments.filter=t.target.value.trim().toLowerCase()}onSlideToggleChange(t,i){1==i.checked?(this.statusAction="Activate",t.activeFlag="Y"):(this.statusAction="Deactivate",t.activeFlag="N");var o={activeFlag:t.activeFlag};this.dialog.open(N.h,{width:"550px",data:{mode:this.statusAction,component:"vehicle type"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(l=>{"success"==l?"Activate"==this.statusAction?this.swmService.activeInactiveVehicleType(t.id,o).subscribe(d=>{this._snackBar.success("Selected vehicle type activated"),this.getVehicleType()},d=>{this._snackBar.error("Activation Failed"),this.getVehicleType()}):this.swmService.activeInactiveVehicleType(t.id,o).subscribe(d=>{this._snackBar.success("Selected vehicle type Deactivated"),this.getVehicleType()},d=>{this._snackBar.error("Deactivation Failed"),this.getVehicleType()}):this.getVehicleType()})}onEdit(t){this.dialog.open(J,{width:"550px",data:{isEditMode:!0,row:t}}).afterClosed().subscribe(o=>{"Success"==o.data&&(this.contentLoaded=!1,this.getVehicleType())})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(v),e.Y36(u.uw),e.Y36(C.a))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-vehicle-type"]],viewQuery:function(i,o){if(1&i&&(e.Gf(f.YE,5),e.Gf(_.NW,5)),2&i){let n;e.iGM(n=e.CRH())&&(o.sort=n.first),e.iGM(n=e.CRH())&&(o.paginator=n.first)}},decls:21,vars:7,consts:[[2,"margin","1.4rem"],[1,"w-full","p-4"],[1,"lg:flex","lg:items-center","lg:justify-between"],[1,"min-w-0","flex-1"],[1,"text-2xl","font-bold"],[1,"mt-5","flex","lg:ml-4","lg:mt-0"],[1,"sm:ml-3"],["type","button",1,"text-white","bg-gray-800","hover:bg-gray-900","focus:outline-none","focus:ring-4","focus:ring-gray-300","font-medium","rounded-lg","text-lg","px-2","py-2.5","text-center","inline-flex","items-center","mr-2","dark:bg-gray-800","dark:hover:bg-gray-700","dark:focus:ring-gray-700","dark:border-gray-700",3,"click"],["aria-hidden","true","fill","currentColor","stroke","currentColor","stroke-width","1.5","viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg","aria-hidden","true",1,"w-5","h-5","mr-2","-ml-1","mb-2"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v12m6-6H6"],["appearance","outline",1,"searchBox"],["matInput","","placeholder","Search",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["count","4","appearance","line","animation","progress-dark",4,"ngIf"],[4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["slideToggleTemplate",""],[1,"action"],[1,"mdc-switch",3,"checked","change"],["mat-icon-button","","matTooltip","Edit Job",3,"disabled","click"],["mat-header-row",""],["mat-row",""],["count","4","appearance","line","animation","progress-dark"]],template:function(i,o){1&i&&(e.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),e._uU(6,"Vehicle Type"),e.qZA()(),e.TgZ(7,"div",5)(8,"span",6)(9,"button",7),e.NdJ("click",function(){return o.add()}),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA(),e._uU(12," Add new Vehicle "),e.qZA()()()()(),e.kcU(),e.TgZ(13,"div",1)(14,"mat-form-field",10)(15,"input",11,12),e.NdJ("keyup",function(l){return o.applyFilter(l)}),e.qZA()(),e.YNc(17,we,4,4,"table",13),e._UZ(18,"mat-paginator",14),e.YNc(19,ye,1,0,"ngx-skeleton-loader",15),e.YNc(20,Ze,2,0,"h3",16),e.qZA()()()),2&i&&(e.ekj("mat-elevation-z8",!0),e.xp6(17),e.Q6J("ngIf",o.departments.data.length>0&&o.contentLoaded),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,ke)),e.xp6(1),e.Q6J("ngIf",!o.contentLoaded),e.xp6(1),e.Q6J("ngIf",0==o.departments.data.length&&o.contentLoaded))},dependencies:[x.RK,b.Hw,w.a8,w.dn,p.KE,T.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,f.YE,f.nU,A.Rr,I.xr,g.sg,g.O5]})}return a})();function xe(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Waste Category Type Name is required. "),e.qZA())}let Y=(()=>{class a{constructor(t,i,o,n,l,d,y){this.fb=t,this.wasteClassificationService=i,this._snackBar=o,this.dialog=n,this.snackBar=l,this.dialogRef=d,this.data=y,this.errorMessage=""}ngOnInit(){if(this.userId=localStorage.getItem("userId"),this.createdUserId=this.userId,this.updateUserId=this.userId,this.addedit=this.data.isEditMode,this.wasteClassificationForm=this.fb.group({wasteCategoryTypeName:["",s.kI.required],description:[""]}),this.addedit){const t=this.data.row;this.id=t.id,this.createdUserId=t.createdUserId,this.updateUserId=this.userId,this.wasteClassificationForm.patchValue({wasteCategoryTypeName:t.wasteCategoryTypeName,description:t.description})}}save(){if(this.wasteClassificationForm.valid){const t={id:this.id,wasteCategoryTypeName:this.wasteClassificationForm.value.wasteCategoryTypeName,description:this.wasteClassificationForm.value.description,createdUserId:this.createdUserId,updateUserId:this.updateUserId,activeFlag:"Y"};this.dialog.open(Z.S,{width:"550px",data:{mode:this.addedit?"Edit":"Add",component:"Waste Classification"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(o=>{"success"===o&&this.wasteClassificationService.saveWasteClassification(t).subscribe(n=>{"Success"==n.status?(this.showSnackBar(0==this.addedit?"waste classification added successfully":"waste classification updated successfully","success"),setTimeout(()=>{this.dialogRef.close({data:"Success"})},1e3)):this.showSnackBar(0==this.addedit?"Error: waste classification addition failed":"Error: waste classification updation failed","error")},n=>{this.showSnackBar(0==this.addedit?"Error: waste classification addition failed":"Error: waste classification updation failed","error")})})}}showSnackBar(t,i){this.snackBar.open(t,"Close",{duration:3e3,panelClass:"success"===i?["success-snackbar"]:["error-snackbar"]})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(s.qu),e.Y36(v),e.Y36(C.a),e.Y36(u.uw),e.Y36(k.ux),e.Y36(u.so),e.Y36(u.WI))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-waste-classification"]],decls:21,vars:4,consts:[[1,"bg-gray-100","p-6"],["id","close-icon",1,"close-icon",2,"float","right","cursor","pointer",3,"click"],[1,"mx-auto","max-w-md"],[1,"text-2xl","font-bold","mb-8"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","lg:grid-cols-1","gap-3"],[1,"w-full"],["matInput","","formControlName","wasteCategoryTypeName","required",""],[4,"ngIf"],["matInput","","formControlName","description"],["type","submit",1,"w-full","disabled:bg-gray-300","px-6","py-3","mt-3","text-lg","text-white","transition-all","duration-150","ease-linear","rounded-lg","shadow","outline-none","bg-green-500","hover:bg-green-600","hover:shadow-lg","focus:outline-none"],[1,"text-center","text-red-500","mt-2"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"mat-icon",1),e.NdJ("click",function(){return o.dialogRef.close()}),e._uU(2,"close"),e.qZA(),e.TgZ(3,"div",2)(4,"h1",3),e._uU(5),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Waste Category Type Name"),e.qZA(),e._UZ(11,"input",7),e.YNc(12,xe,2,0,"mat-error",8),e.qZA(),e.TgZ(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Description"),e.qZA(),e._UZ(16,"input",9),e.qZA()(),e.TgZ(17,"button",10),e._uU(18," Save "),e.qZA(),e.TgZ(19,"div",11),e._uU(20),e.qZA()()()()),2&i&&(e.xp6(5),e.hij("",o.addedit?"Edit":"Add"," Waste Classification"),e.xp6(1),e.Q6J("formGroup",o.wasteClassificationForm),e.xp6(6),e.Q6J("ngIf",o.wasteClassificationForm.get("wasteCategoryTypeName").hasError("required")),e.xp6(8),e.hij(" ",o.errorMessage," "))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,b.Hw,p.KE,p.hX,p.TO,T.Nt,g.O5]})}return a})();function Ae(a,r){if(1&a&&(e.TgZ(0,"th",24),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.header)}}function Ie(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.columnDef]," ")}}function Ue(a,r){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=e.oxw().index;e.xp6(1),e.hij(" ",t+1," ")}}function qe(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",28)(1,"mat-slide-toggle",29),e.NdJ("change",function(o){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.onSlideToggleChange(n,o))}),e.qZA(),e.TgZ(2,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw(3);return e.KtG(n.onEdit(o))}),e.TgZ(3,"mat-icon"),e._uU(4,"edit"),e.qZA()()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("checked","Y"===t.activeFlag),e.xp6(1),e.Q6J("disabled","N"===t.activeFlag)}}function Fe(a,r){if(1&a&&(e.TgZ(0,"td",25),e.YNc(1,Ie,2,1,"ng-container",26),e.YNc(2,Ue,2,1,"div",16),e.YNc(3,qe,5,2,"ng-template",null,27,e.W1O),e.qZA()),2&a){const t=e.MAs(4),i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","actions"!==i.columnDef&&"sno"!==i.Def)("ngIfElse",t),e.xp6(1),e.Q6J("ngIf","sno"===i.columnDef)}}function Se(a,r){1&a&&(e.ynx(0,21),e.YNc(1,Ae,2,1,"th",22),e.YNc(2,Fe,5,3,"td",23),e.BQk()),2&a&&e.Q6J("matColumnDef",r.$implicit.columnDef)}function De(a,r){1&a&&e._UZ(0,"tr",31)}function Je(a,r){1&a&&e._UZ(0,"tr",32)}function Ye(a,r){if(1&a&&(e.TgZ(0,"table",17),e.YNc(1,Se,3,1,"ng-container",18),e.YNc(2,De,1,0,"tr",19),e.YNc(3,Je,1,0,"tr",20),e.qZA()),2&a){const t=e.oxw();e.Q6J("dataSource",t.departments),e.xp6(1),e.Q6J("ngForOf",t.columnNames),e.xp6(1),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}function Be(a,r){1&a&&e._UZ(0,"ngx-skeleton-loader",33)}function Le(a,r){1&a&&(e.TgZ(0,"h3"),e._uU(1,"No data available."),e.qZA())}const Qe=function(){return[20,40,60]};let Ee=(()=>{class a{constructor(t,i,o){this.swmService=t,this.dialog=i,this._snackBar=o,this.columnNames=[{columnDef:"sno",header:"Sr.No."},{columnDef:"wasteCategoryTypeName",header:"Waste Category Type Name"},{columnDef:"description",header:"Description"},{columnDef:"actions",header:"Actions"}],this.departments=new c.by,this.displayedColumns=[],this.contentLoaded=!1,this.statusAction=""}ngOnInit(){this.displayedColumns=this.displayedColumns.concat(this.columnNames.map(t=>t.columnDef)),this.getWasteClassification()}getWasteClassification(){this.swmService.getWasteClassification().subscribe(t=>{this.departments.data=t.wasteClassificationMasterList,this.departments.data=this.departments.data.sort((i,o)=>i.id-o.id),setTimeout(()=>{this.departments.sort=this.sort,this.departments.paginator=this.paginator}),setTimeout(()=>{this.contentLoaded=!0},2e3)},t=>{this.contentLoaded=!0})}add(){this.dialog.open(Y,{width:"550px",data:{isEditMode:!1}}).afterClosed().subscribe(i=>{"Success"==i.data&&(this.contentLoaded=!1,this.getWasteClassification())})}applyFilter(t){this.departments.filter=t.target.value.trim().toLowerCase()}onSlideToggleChange(t,i){1==i.checked?(this.statusAction="Activate",t.activeFlag="Y"):(this.statusAction="Deactivate",t.activeFlag="N");var o={activeFlag:t.activeFlag};this.dialog.open(N.h,{width:"550px",data:{mode:this.statusAction,component:"waste classification"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(l=>{"success"==l?"Activate"==this.statusAction?this.swmService.activeInactiveWasteClassification(t.id,o).subscribe(d=>{this._snackBar.success("Selected waste classification activated"),this.getWasteClassification()},d=>{this._snackBar.error("Activation Failed"),this.getWasteClassification()}):this.swmService.activeInactiveWasteClassification(t.id,o).subscribe(d=>{this._snackBar.success("Selected waste classification Deactivated"),this.getWasteClassification()},d=>{this._snackBar.error("Deactivation Failed"),this.getWasteClassification()}):this.getWasteClassification()})}onEdit(t){this.dialog.open(Y,{width:"550px",data:{isEditMode:!0,row:t}}).afterClosed().subscribe(o=>{"Success"==o.data&&(this.contentLoaded=!1,this.getWasteClassification())})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(v),e.Y36(u.uw),e.Y36(C.a))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-waste-classification"]],viewQuery:function(i,o){if(1&i&&(e.Gf(f.YE,5),e.Gf(_.NW,5)),2&i){let n;e.iGM(n=e.CRH())&&(o.sort=n.first),e.iGM(n=e.CRH())&&(o.paginator=n.first)}},decls:21,vars:7,consts:[[2,"margin","1.4rem"],[1,"w-full","p-4"],[1,"lg:flex","lg:items-center","lg:justify-between"],[1,"min-w-0","flex-1"],[1,"text-2xl","font-bold"],[1,"mt-5","flex","lg:ml-4","lg:mt-0"],[1,"sm:ml-3"],["type","button",1,"text-white","bg-gray-800","hover:bg-gray-900","focus:outline-none","focus:ring-4","focus:ring-gray-300","font-medium","rounded-lg","text-lg","px-2","py-2.5","text-center","inline-flex","items-center","mr-2","dark:bg-gray-800","dark:hover:bg-gray-700","dark:focus:ring-gray-700","dark:border-gray-700",3,"click"],["aria-hidden","true","fill","currentColor","stroke","currentColor","stroke-width","1.5","viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg","aria-hidden","true",1,"w-5","h-5","mr-2","-ml-1","mb-2"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v12m6-6H6"],["appearance","outline",1,"searchBox"],["matInput","","placeholder","Search",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["count","4","appearance","line","animation","progress-dark",4,"ngIf"],[4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["slideToggleTemplate",""],[1,"action"],[1,"mdc-switch",3,"checked","change"],["mat-icon-button","","matTooltip","Edit Job",3,"disabled","click"],["mat-header-row",""],["mat-row",""],["count","4","appearance","line","animation","progress-dark"]],template:function(i,o){1&i&&(e.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),e._uU(6,"Waste Classification"),e.qZA()(),e.TgZ(7,"div",5)(8,"span",6)(9,"button",7),e.NdJ("click",function(){return o.add()}),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA(),e._uU(12," Add new Waste Classification "),e.qZA()()()()(),e.kcU(),e.TgZ(13,"div",1)(14,"mat-form-field",10)(15,"input",11,12),e.NdJ("keyup",function(l){return o.applyFilter(l)}),e.qZA()(),e.YNc(17,Ye,4,4,"table",13),e._UZ(18,"mat-paginator",14),e.YNc(19,Be,1,0,"ngx-skeleton-loader",15),e.YNc(20,Le,2,0,"h3",16),e.qZA()()()),2&i&&(e.ekj("mat-elevation-z8",!0),e.xp6(17),e.Q6J("ngIf",o.departments.data.length>0&&o.contentLoaded),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,Qe)),e.xp6(1),e.Q6J("ngIf",!o.contentLoaded),e.xp6(1),e.Q6J("ngIf",0==o.departments.data.length&&o.contentLoaded))},dependencies:[x.RK,b.Hw,w.a8,w.dn,p.KE,T.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,f.YE,f.nU,A.Rr,I.xr,g.sg,g.O5]})}return a})();var U=h(8525),q=h(3680);function Ve(a,r){if(1&a&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.companyName)}}function Re(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Company is required. "),e.qZA())}function Me(a,r){if(1&a&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.vehicleTypeName)}}function $e(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Vehicle Type is required. "),e.qZA())}function Pe(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Vehicle Number is required. "),e.qZA())}function Oe(a,r){if(1&a&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.wasteCategoryTypeName)}}function We(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Waste Category Type is required. "),e.qZA())}let B=(()=>{class a{constructor(t,i,o,n,l,d,y){this.fb=t,this.contractorVehicleService=i,this._snackBar=o,this.dialog=n,this.snackBar=l,this.dialogRef=d,this.data=y,this.errorMessage=""}ngOnInit(){if(this.userId=localStorage.getItem("userId"),this.createdUserId=this.userId,this.updateUserId=this.userId,this.addedit=this.data.isEditMode,this.fetchDropdownValues(),this.contractorVehicleForm=this.fb.group({companyId:["",s.kI.required],vehicleTypeId:["",s.kI.required],vehicleNumber:["",s.kI.required],gpsDevicesId:[""],readerUfid:[""],rfidTag:[""],wasteCategoryTypeId:["",s.kI.required],vehicleMake:[""],vehicleModel:[""],driverName:[""]}),this.addedit){const t=this.data.row;this.id=t.id,this.createdUserId=t.createdUserId,this.updateUserId=this.userId,this.contractorVehicleForm.patchValue({companyId:t.companyId,vehicleTypeId:t.vehicleTypeId,vehicleNumber:t.vehicleNumber,gpsDevicesId:t.gpsDevicesId,readerUfid:t.readerUfid,rfidTag:t.rfidTag,wasteCategoryTypeId:t.wasteCategoryTypeId,vehicleMake:t.vehicleMake,vehicleModel:t.vehicleModel,driverName:t.driverName})}}fetchDropdownValues(){this.contractorVehicleService.getByActiveFlagWasteClassification().subscribe(t=>{this.wasteCategoryTypes=t.wasteClassificationMasterList},t=>{console.error("Error fetching waste category types",t)}),this.contractorVehicleService.getByActiveFlagVehicleType().subscribe(t=>{this.vehicleTypes=t.vehicleTypeMasterList},t=>{console.error("Error fetching vehicle types",t)}),this.contractorVehicleService.getByActiveFlagContractor().subscribe(t=>{this.companies=t.contractorMasterList},t=>{console.error("Error fetching companies",t)})}save(){if(this.contractorVehicleForm.valid){const t={id:this.id,companyId:this.contractorVehicleForm.value.companyId,vehicleTypeId:this.contractorVehicleForm.value.vehicleTypeId,vehicleNumber:this.contractorVehicleForm.value.vehicleNumber,gpsDevicesId:this.contractorVehicleForm.value.gpsDevicesId,readerUfid:this.contractorVehicleForm.value.readerUfid,rfidTag:this.contractorVehicleForm.value.rfidTag,wasteCategoryTypeId:this.contractorVehicleForm.value.wasteCategoryTypeId,vehicleMake:this.contractorVehicleForm.value.vehicleMake,vehicleModel:this.contractorVehicleForm.value.vehicleModel,driverName:this.contractorVehicleForm.value.driverName,createdUserId:this.createdUserId,updateUserId:this.updateUserId,activeFlag:"Y"};this.dialog.open(Z.S,{width:"550px",data:{mode:this.addedit?"Edit":"Add",component:"Contractor Vehicle"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(o=>{"success"===o&&this.contractorVehicleService.saveContractorVehicle(t).subscribe(n=>{"Success"===n.status?(this.showSnackBar(0==this.addedit?"contractor vehicle added successfully":"contractor vehicle updated successfully","success"),setTimeout(()=>{this.dialogRef.close({data:"Success"})},1e3)):this.showSnackBar(0==this.addedit?"Error: contractor vehicle addition failed":"Error: contractor vehicle updation failed","error")},n=>{this.showSnackBar(0==this.addedit?"Error: contractor vehicle addition failed":"Error: contractor vehicle updation failed","error")})})}}showSnackBar(t,i){this.snackBar.open(t,"Close",{duration:3e3,panelClass:"success"===i?["success-snackbar"]:["error-snackbar"]})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(s.qu),e.Y36(v),e.Y36(C.a),e.Y36(u.uw),e.Y36(k.ux),e.Y36(u.so),e.Y36(u.WI))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-contractor-vehicle"]],decls:58,vars:10,consts:[[1,"bg-gray-100","p-6"],["id","close-icon",1,"close-icon",2,"float","right","cursor","pointer",3,"click"],[1,"text-2xl","font-bold","mb-8"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-2","gap-3"],[1,"w-full"],["formControlName","companyId","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","vehicleTypeId","required",""],["matInput","","formControlName","vehicleNumber","required",""],["matInput","","formControlName","gpsDevicesId"],["matInput","","formControlName","readerUfid"],["matInput","","formControlName","rfidTag"],["formControlName","wasteCategoryTypeId","required",""],["matInput","","formControlName","vehicleMake"],["matInput","","formControlName","vehicleModel"],["matInput","","formControlName","driverName"],["type","submit",1,"w-full","disabled:bg-gray-300","px-6","py-3","mt-3","text-lg","text-white","transition-all","duration-150","ease-linear","rounded-lg","shadow","outline-none","bg-green-500","hover:bg-green-600","hover:shadow-lg","focus:outline-none"],[1,"text-center","text-red-500","mt-2"],[3,"value"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"mat-icon",1),e.NdJ("click",function(){return o.dialogRef.close()}),e._uU(2,"close"),e.qZA(),e.TgZ(3,"h1",2),e._uU(4),e.qZA(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),e._uU(9,"Company"),e.qZA(),e.TgZ(10,"mat-select",6),e.YNc(11,Ve,2,2,"mat-option",7),e.qZA(),e.YNc(12,Re,2,0,"mat-error",8),e.qZA(),e.TgZ(13,"mat-form-field",5)(14,"mat-label"),e._uU(15,"Vehicle Type"),e.qZA(),e.TgZ(16,"mat-select",9),e.YNc(17,Me,2,2,"mat-option",7),e.qZA(),e.YNc(18,$e,2,0,"mat-error",8),e.qZA(),e.TgZ(19,"mat-form-field",5)(20,"mat-label"),e._uU(21,"Vehicle Number"),e.qZA(),e._UZ(22,"input",10),e.YNc(23,Pe,2,0,"mat-error",8),e.qZA(),e.TgZ(24,"mat-form-field",5)(25,"mat-label"),e._uU(26,"GPS Devices ID"),e.qZA(),e._UZ(27,"input",11),e.qZA(),e.TgZ(28,"mat-form-field",5)(29,"mat-label"),e._uU(30,"Reader UFID"),e.qZA(),e._UZ(31,"input",12),e.qZA(),e.TgZ(32,"mat-form-field",5)(33,"mat-label"),e._uU(34,"RFID Tag"),e.qZA(),e._UZ(35,"input",13),e.qZA(),e.TgZ(36,"mat-form-field",5)(37,"mat-label"),e._uU(38,"Waste Category Type"),e.qZA(),e.TgZ(39,"mat-select",14),e.YNc(40,Oe,2,2,"mat-option",7),e.qZA(),e.YNc(41,We,2,0,"mat-error",8),e.qZA(),e.TgZ(42,"mat-form-field",5)(43,"mat-label"),e._uU(44,"Vehicle Make"),e.qZA(),e._UZ(45,"input",15),e.qZA(),e.TgZ(46,"mat-form-field",5)(47,"mat-label"),e._uU(48,"Vehicle Model"),e.qZA(),e._UZ(49,"input",16),e.qZA(),e.TgZ(50,"mat-form-field",5)(51,"mat-label"),e._uU(52,"Driver Name"),e.qZA(),e._UZ(53,"input",17),e.qZA()(),e.TgZ(54,"button",18),e._uU(55," Save "),e.qZA(),e.TgZ(56,"div",19),e._uU(57),e.qZA()()()),2&i&&(e.xp6(4),e.hij("",o.addedit?"Edit":"Add"," Contractor Vehicle"),e.xp6(1),e.Q6J("formGroup",o.contractorVehicleForm),e.xp6(6),e.Q6J("ngForOf",o.companies),e.xp6(1),e.Q6J("ngIf",o.contractorVehicleForm.get("companyId").hasError("required")),e.xp6(5),e.Q6J("ngForOf",o.vehicleTypes),e.xp6(1),e.Q6J("ngIf",o.contractorVehicleForm.get("vehicleTypeId").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.contractorVehicleForm.get("vehicleNumber").hasError("required")),e.xp6(17),e.Q6J("ngForOf",o.wasteCategoryTypes),e.xp6(1),e.Q6J("ngIf",o.contractorVehicleForm.get("wasteCategoryTypeId").hasError("required")),e.xp6(16),e.hij(" ",o.errorMessage," "))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,b.Hw,p.KE,p.hX,p.TO,T.Nt,U.gD,q.ey,g.sg,g.O5]})}return a})();function He(a,r){if(1&a&&(e.TgZ(0,"th",24),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.header)}}function je(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.columnDef]," ")}}function Ge(a,r){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=e.oxw().index;e.xp6(1),e.hij(" ",t+1," ")}}function Ke(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",28)(1,"mat-slide-toggle",29),e.NdJ("change",function(o){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.onSlideToggleChange(n,o))}),e.qZA(),e.TgZ(2,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw(3);return e.KtG(n.onEdit(o))}),e.TgZ(3,"mat-icon"),e._uU(4,"edit"),e.qZA()()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("checked","Y"===t.activeFlag),e.xp6(1),e.Q6J("disabled","N"===t.activeFlag)}}function ze(a,r){if(1&a&&(e.TgZ(0,"td",25),e.YNc(1,je,2,1,"ng-container",26),e.YNc(2,Ge,2,1,"div",16),e.YNc(3,Ke,5,2,"ng-template",null,27,e.W1O),e.qZA()),2&a){const t=e.MAs(4),i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","actions"!==i.columnDef&&"sno"!==i.Def)("ngIfElse",t),e.xp6(1),e.Q6J("ngIf","sno"===i.columnDef)}}function Xe(a,r){1&a&&(e.ynx(0,21),e.YNc(1,He,2,1,"th",22),e.YNc(2,ze,5,3,"td",23),e.BQk()),2&a&&e.Q6J("matColumnDef",r.$implicit.columnDef)}function et(a,r){1&a&&e._UZ(0,"tr",31)}function tt(a,r){1&a&&e._UZ(0,"tr",32)}function at(a,r){if(1&a&&(e.TgZ(0,"table",17),e.YNc(1,Xe,3,1,"ng-container",18),e.YNc(2,et,1,0,"tr",19),e.YNc(3,tt,1,0,"tr",20),e.qZA()),2&a){const t=e.oxw();e.Q6J("dataSource",t.departments),e.xp6(1),e.Q6J("ngForOf",t.columnNames),e.xp6(1),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}function it(a,r){1&a&&e._UZ(0,"ngx-skeleton-loader",33)}function ot(a,r){1&a&&(e.TgZ(0,"h3"),e._uU(1,"No data available."),e.qZA())}const nt=function(){return[20,40,60]};let rt=(()=>{class a{constructor(t,i,o){this.swmService=t,this.dialog=i,this._snackBar=o,this.columnNames=[{columnDef:"sno",header:"Sr.No."},{columnDef:"companyName",header:"Company Name"},{columnDef:"vehicleTypeName",header:"Vehicle Type Name"},{columnDef:"vehicleNumber",header:"Vehicle Number"},{columnDef:"gpsDevicesId",header:"GPS Devices ID"},{columnDef:"readerUfid",header:"Reader UFID"},{columnDef:"rfidTag",header:"RFID Tag"},{columnDef:"wasteCategoryTypeName",header:"Waste Category Type Name"},{columnDef:"vehicleMake",header:"Vehicle Make"},{columnDef:"vehicleModel",header:"Vehicle Model"},{columnDef:"driverName",header:"Driver Name"},{columnDef:"actions",header:"Actions"}],this.departments=new c.by,this.displayedColumns=[],this.contentLoaded=!1,this.statusAction=""}ngOnInit(){this.displayedColumns=this.displayedColumns.concat(this.columnNames.map(t=>t.columnDef)),this.getContractorVehicle()}getContractorVehicle(){this.swmService.getContractorVehicle().subscribe(t=>{this.departments.data=t.contractorVehicleMasterList,this.departments.data=this.departments.data.sort((i,o)=>i.id-o.id),setTimeout(()=>{this.departments.sort=this.sort,this.departments.paginator=this.paginator}),setTimeout(()=>{this.contentLoaded=!0},2e3)},t=>{this.contentLoaded=!0})}add(){this.dialog.open(B,{width:"950px",data:{isEditMode:!1}}).afterClosed().subscribe(i=>{"Success"==i.data&&(this.contentLoaded=!1,this.getContractorVehicle())})}applyFilter(t){this.departments.filter=t.target.value.trim().toLowerCase()}onSlideToggleChange(t,i){1==i.checked?(this.statusAction="Activate",t.activeFlag="Y"):(this.statusAction="Deactivate",t.activeFlag="N");var o={activeFlag:t.activeFlag};this.dialog.open(N.h,{width:"550px",data:{mode:this.statusAction,component:"contractor vehicle"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(l=>{"success"==l?"Activate"==this.statusAction?this.swmService.activeInactiveContractorVehicle(t.id,o).subscribe(d=>{this._snackBar.success("Selected contractor vehicle activated"),this.getContractorVehicle()},d=>{this._snackBar.error("Activation Failed"),this.getContractorVehicle()}):this.swmService.activeInactiveContractorVehicle(t.id,o).subscribe(d=>{this._snackBar.success("Selected contractor vehicle Deactivated"),this.getContractorVehicle()},d=>{this._snackBar.error("Deactivation Failed"),this.getContractorVehicle()}):this.getContractorVehicle()})}onEdit(t){this.dialog.open(B,{width:"950px",data:{isEditMode:!0,row:t}}).afterClosed().subscribe(o=>{"Success"==o.data&&(this.contentLoaded=!1,this.getContractorVehicle())})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(v),e.Y36(u.uw),e.Y36(C.a))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-contractor-vehicle"]],viewQuery:function(i,o){if(1&i&&(e.Gf(f.YE,5),e.Gf(_.NW,5)),2&i){let n;e.iGM(n=e.CRH())&&(o.sort=n.first),e.iGM(n=e.CRH())&&(o.paginator=n.first)}},decls:21,vars:7,consts:[[2,"margin","1.4rem"],[1,"w-full","p-4"],[1,"lg:flex","lg:items-center","lg:justify-between"],[1,"min-w-0","flex-1"],[1,"text-2xl","font-bold"],[1,"mt-5","flex","lg:ml-4","lg:mt-0"],[1,"sm:ml-3"],["type","button",1,"text-white","bg-gray-800","hover:bg-gray-900","focus:outline-none","focus:ring-4","focus:ring-gray-300","font-medium","rounded-lg","text-lg","px-2","py-2.5","text-center","inline-flex","items-center","mr-2","dark:bg-gray-800","dark:hover:bg-gray-700","dark:focus:ring-gray-700","dark:border-gray-700",3,"click"],["aria-hidden","true","fill","currentColor","stroke","currentColor","stroke-width","1.5","viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg","aria-hidden","true",1,"w-5","h-5","mr-2","-ml-1","mb-2"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v12m6-6H6"],["appearance","outline",1,"searchBox"],["matInput","","placeholder","Search",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["count","4","appearance","line","animation","progress-dark",4,"ngIf"],[4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["slideToggleTemplate",""],[1,"action"],[1,"mdc-switch",3,"checked","change"],["mat-icon-button","","matTooltip","Edit Job",3,"disabled","click"],["mat-header-row",""],["mat-row",""],["count","4","appearance","line","animation","progress-dark"]],template:function(i,o){1&i&&(e.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),e._uU(6,"Contractor Vehicle"),e.qZA()(),e.TgZ(7,"div",5)(8,"span",6)(9,"button",7),e.NdJ("click",function(){return o.add()}),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA(),e._uU(12," Add new Contractor Vehicle "),e.qZA()()()()(),e.kcU(),e.TgZ(13,"div",1)(14,"mat-form-field",10)(15,"input",11,12),e.NdJ("keyup",function(l){return o.applyFilter(l)}),e.qZA()(),e.YNc(17,at,4,4,"table",13),e._UZ(18,"mat-paginator",14),e.YNc(19,it,1,0,"ngx-skeleton-loader",15),e.YNc(20,ot,2,0,"h3",16),e.qZA()()()),2&i&&(e.ekj("mat-elevation-z8",!0),e.xp6(17),e.Q6J("ngIf",o.departments.data.length>0&&o.contentLoaded),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,nt)),e.xp6(1),e.Q6J("ngIf",!o.contentLoaded),e.xp6(1),e.Q6J("ngIf",0==o.departments.data.length&&o.contentLoaded))},dependencies:[x.RK,b.Hw,w.a8,w.dn,p.KE,T.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,f.YE,f.nU,A.Rr,I.xr,g.sg,g.O5]})}return a})();var st=h(4201);function ct(a,r){if(1&a&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nodeName)}}function lt(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Node is required. "),e.qZA())}function dt(a,r){if(1&a&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.wardName)}}function mt(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Ward is required. "),e.qZA())}function ut(a,r){if(1&a&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.sectorName)}}function pt(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Sector is required. "),e.qZA())}function gt(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Plot is required. "),e.qZA())}function ht(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Location Name is required. "),e.qZA())}function ft(a,r){if(1&a&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.locationType)}}function _t(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Location Type is required. "),e.qZA())}function vt(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Latitude Point is required. "),e.qZA())}function Ct(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Longitude Point is required. "),e.qZA())}function bt(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Contact Number is required. "),e.qZA())}function Tt(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Invalid contact number format. It should be 10 digits. "),e.qZA())}let L=(()=>{class a{constructor(t,i,o,n,l,d,y){this.fb=t,this.locationService=i,this._snackBar=o,this.dialog=n,this.snackBar=l,this.dialogRef=d,this.data=y,this.errorMessage="",this.nodeName=null,this.wardName=null,this.sectorName=null}ngOnInit(){if(this.userId=localStorage.getItem("userId"),this.createdUserId=this.userId,this.updateUserId=this.userId,this.addedit=this.data.isEditMode,this.parkingForm=this.fb.group({nodeId:[null],wardId:[null],sectorId:[null,s.kI.required],plot:["",s.kI.required],locationName:["",s.kI.required],locationTypeId:["",s.kI.required],latitudePoint:["",s.kI.required],longitudePoint:["",s.kI.required],contactNumber:["",[s.kI.required,s.kI.pattern(/^\d{10}$/)]]}),this.loadNodes(),this.loadWards(),this.loadLoactionTypes(),this.addedit){const t=this.data.row;this.id=t.id,this.createdUserId=t.createdUserId,this.updateUserId=this.userId,t.wardId?this.loadSectorsByWard(t.wardId):t.nodeId&&this.loadSectorsByNode(t.nodeId),this.disableEnableNodeAndWard(),this.parkingForm.patchValue({nodeId:t.nodeId,wardId:t.wardId,sectorId:t.sectorId,plot:t.plot,locationName:t.locationName,locationTypeId:t.locationTypeId,latitudePoint:t.latitudePoint,longitudePoint:t.longitudePoint,contactNumber:t.contactNumber}),this.parkingForm.enable()}}disableEnableNodeAndWard(){this.parkingForm.get("nodeId").disable({onlySelf:!0,emitEvent:!1}),this.parkingForm.get("wardId").disable({onlySelf:!0,emitEvent:!1}),this.parkingForm.get("nodeId").valueChanges.subscribe(t=>{null===t&&null!==this.parkingForm.get("wardId").value?this.parkingForm.get("nodeId").disable({onlySelf:!0,emitEvent:!1}):this.parkingForm.get("nodeId").enable({onlySelf:!0,emitEvent:!1})}),this.parkingForm.get("wardId").valueChanges.subscribe(t=>{null===t&&null!==this.parkingForm.get("nodeId").value?this.parkingForm.get("wardId").disable({onlySelf:!0,emitEvent:!1}):this.parkingForm.get("wardId").enable({onlySelf:!0,emitEvent:!1})})}loadLoactionTypes(){this.locationService.getByActiveFlagLocationType().subscribe(t=>{this.locationTypes=t.locationTypeMasterList})}loadNodes(){this.locationService.getNode().subscribe(t=>{this.nodes=t.nodeMasterList})}loadWards(){this.locationService.getWard().subscribe(t=>{this.wards=t.wardMasterList})}loadSectorsByNode(t){this.locationService.getlsectorbynode(t).subscribe(i=>{this.sectors=i})}onNodeChange(t){this.nodeName=this.nodes.find(i=>i.id===t)?.nodeName||"",this.loadSectorsByNode(t),this.disableEnableNodeAndWard()}loadSectorsByWard(t){this.locationService.getsectorbyward(t).subscribe(i=>{this.sectors=i})}onWardChange(t){this.wardName=this.wards.find(i=>i.id===t)?.wardName||"",this.loadSectorsByWard(t),this.disableEnableNodeAndWard()}onSectorChange(t){this.sectorName=this.sectors.find(i=>i.id===t)?.sectorName||""}save(){if(this.parkingForm.valid){const t={id:this.id,nodeId:this.parkingForm.value.nodeId,wardId:this.parkingForm.value.wardId,sectorId:this.parkingForm.value.sectorId,plot:this.parkingForm.value.plot,locationName:this.parkingForm.value.locationName,locationTypeId:this.parkingForm.value.locationTypeId,latitudePoint:this.parkingForm.value.latitudePoint,longitudePoint:this.parkingForm.value.longitudePoint,contactNumber:this.parkingForm.value.contactNumber,createdUserId:this.createdUserId,updateUserId:this.updateUserId,activeFlag:"Y"};this.dialog.open(Z.S,{width:"550px",data:{mode:this.addedit?"Edit":"Add",component:"Location"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(o=>{"success"===o&&this.locationService.saveLocation(t).subscribe(n=>{"Success"===n.status?(this.showSnackBar(0==this.addedit?"location added successfully":"location updated successfully","success"),setTimeout(()=>{this.dialogRef.close({data:"Success"})},1e3)):this.showSnackBar(0==this.addedit?"Error: location addition failed":"Error: location updation failed","error")},n=>{this.showSnackBar(0==this.addedit?"Error: location addition failed":"Error: location updation failed","error")})})}}showSnackBar(t,i){this.snackBar.open(t,"Close",{duration:3e3,panelClass:"success"===i?["success-snackbar"]:["error-snackbar"]})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(s.qu),e.Y36(v),e.Y36(C.a),e.Y36(u.uw),e.Y36(k.ux),e.Y36(u.so),e.Y36(u.WI))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-location"]],decls:61,vars:17,consts:[[1,"bg-gray-100","p-6"],["id","close-icon",1,"close-icon",2,"float","right","cursor","pointer",3,"click"],[1,"text-2xl","font-bold","mb-8"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-2","gap-3"],[1,"w-full"],["formControlName","nodeId","required","",3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","wardId","required","",3,"valueChange"],["formControlName","sectorId","required","",3,"valueChange"],["matInput","","formControlName","plot","required",""],["matInput","","formControlName","locationName"],["formControlName","locationTypeId","required",""],["matInput","","formControlName","latitudePoint"],["matInput","","formControlName","longitudePoint"],["matInput","","formControlName","contactNumber"],["type","submit",1,"w-full","disabled:bg-gray-300","px-6","py-3","mt-3","text-lg","text-white","transition-all","duration-150","ease-linear","rounded-lg","shadow","outline-none","bg-green-500","hover:bg-green-600","hover:shadow-lg","focus:outline-none"],[1,"text-center","text-red-500","mt-2"],[3,"value"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"mat-icon",1),e.NdJ("click",function(){return o.dialogRef.close()}),e._uU(2,"close"),e.qZA(),e.TgZ(3,"h1",2),e._uU(4),e.qZA(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),e._uU(9,"Node"),e.qZA(),e.TgZ(10,"mat-select",6),e.NdJ("valueChange",function(l){return o.onNodeChange(l)}),e.YNc(11,ct,2,2,"mat-option",7),e.qZA(),e.YNc(12,lt,2,0,"mat-error",8),e.qZA(),e.TgZ(13,"mat-form-field",5)(14,"mat-label"),e._uU(15,"Ward"),e.qZA(),e.TgZ(16,"mat-select",9),e.NdJ("valueChange",function(l){return o.onWardChange(l)}),e.YNc(17,dt,2,2,"mat-option",7),e.qZA(),e.YNc(18,mt,2,0,"mat-error",8),e.qZA(),e.TgZ(19,"mat-form-field",5)(20,"mat-label"),e._uU(21,"Sector"),e.qZA(),e.TgZ(22,"mat-select",10),e.NdJ("valueChange",function(l){return o.onSectorChange(l)}),e.YNc(23,ut,2,2,"mat-option",7),e.qZA(),e.YNc(24,pt,2,0,"mat-error",8),e.qZA(),e.TgZ(25,"mat-form-field",5)(26,"mat-label"),e._uU(27,"Plot"),e.qZA(),e._UZ(28,"input",11),e.YNc(29,gt,2,0,"mat-error",8),e.qZA(),e.TgZ(30,"mat-form-field",5)(31,"mat-label"),e._uU(32,"Location Name"),e.qZA(),e._UZ(33,"input",12),e.YNc(34,ht,2,0,"mat-error",8),e.qZA(),e.TgZ(35,"mat-form-field",5)(36,"mat-label"),e._uU(37,"Location Type"),e.qZA(),e.TgZ(38,"mat-select",13),e.YNc(39,ft,2,2,"mat-option",7),e.qZA(),e.YNc(40,_t,2,0,"mat-error",8),e.qZA(),e.TgZ(41,"mat-form-field",5)(42,"mat-label"),e._uU(43,"Latitude Point"),e.qZA(),e._UZ(44,"input",14),e.YNc(45,vt,2,0,"mat-error",8),e.qZA(),e.TgZ(46,"mat-form-field",5)(47,"mat-label"),e._uU(48,"Longitude Point"),e.qZA(),e._UZ(49,"input",15),e.YNc(50,Ct,2,0,"mat-error",8),e.qZA(),e.TgZ(51,"mat-form-field",5)(52,"mat-label"),e._uU(53,"Contact Number"),e.qZA(),e._UZ(54,"input",16),e.YNc(55,bt,2,0,"mat-error",8),e.YNc(56,Tt,2,0,"mat-error",8),e.qZA()(),e.TgZ(57,"button",17),e._uU(58," Save "),e.qZA(),e.TgZ(59,"div",18),e._uU(60),e.qZA()()()),2&i&&(e.xp6(4),e.hij("",o.addedit?"Edit":"Add"," Location"),e.xp6(1),e.Q6J("formGroup",o.parkingForm),e.xp6(6),e.Q6J("ngForOf",o.nodes),e.xp6(1),e.Q6J("ngIf",!o.parkingForm.value.nodeId&&!o.parkingForm.value.wardId),e.xp6(5),e.Q6J("ngForOf",o.wards),e.xp6(1),e.Q6J("ngIf",!o.parkingForm.value.wardId&&!o.parkingForm.value.wardId),e.xp6(5),e.Q6J("ngForOf",o.sectors),e.xp6(1),e.Q6J("ngIf",o.parkingForm.get("sectorId").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.parkingForm.get("plot").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.parkingForm.get("locationName").hasError("required")),e.xp6(5),e.Q6J("ngForOf",o.locationTypes),e.xp6(1),e.Q6J("ngIf",o.parkingForm.get("locationTypeId").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.parkingForm.get("latitudePoint").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.parkingForm.get("longitudePoint").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.parkingForm.get("contactNumber").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.parkingForm.get("contactNumber").hasError("pattern")),e.xp6(4),e.hij(" ",o.errorMessage," "))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,b.Hw,p.KE,p.hX,p.TO,T.Nt,U.gD,q.ey,g.sg,g.O5]})}return a})();function wt(a,r){if(1&a&&(e.TgZ(0,"th",24),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.header)}}function yt(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.columnDef]," ")}}function Zt(a,r){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=e.oxw().index;e.xp6(1),e.hij(" ",t+1," ")}}function kt(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",28)(1,"mat-slide-toggle",29),e.NdJ("change",function(o){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.onSlideToggleChange(n,o))}),e.qZA(),e.TgZ(2,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw(3);return e.KtG(n.onEdit(o))}),e.TgZ(3,"mat-icon"),e._uU(4,"edit"),e.qZA()()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("checked","Y"===t.activeFlag),e.xp6(1),e.Q6J("disabled","N"===t.activeFlag)}}function Nt(a,r){if(1&a&&(e.TgZ(0,"td",25),e.YNc(1,yt,2,1,"ng-container",26),e.YNc(2,Zt,2,1,"div",16),e.YNc(3,kt,5,2,"ng-template",null,27,e.W1O),e.qZA()),2&a){const t=e.MAs(4),i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","actions"!==i.columnDef&&"sno"!==i.Def)("ngIfElse",t),e.xp6(1),e.Q6J("ngIf","sno"===i.columnDef)}}function xt(a,r){1&a&&(e.ynx(0,21),e.YNc(1,wt,2,1,"th",22),e.YNc(2,Nt,5,3,"td",23),e.BQk()),2&a&&e.Q6J("matColumnDef",r.$implicit.columnDef)}function At(a,r){1&a&&e._UZ(0,"tr",31)}function It(a,r){1&a&&e._UZ(0,"tr",32)}function Ut(a,r){if(1&a&&(e.TgZ(0,"table",17),e.YNc(1,xt,3,1,"ng-container",18),e.YNc(2,At,1,0,"tr",19),e.YNc(3,It,1,0,"tr",20),e.qZA()),2&a){const t=e.oxw();e.Q6J("dataSource",t.departments),e.xp6(1),e.Q6J("ngForOf",t.columnNames),e.xp6(1),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}function qt(a,r){1&a&&e._UZ(0,"ngx-skeleton-loader",33)}function Ft(a,r){1&a&&(e.TgZ(0,"h3"),e._uU(1,"No data available."),e.qZA())}const St=function(){return[20,40,60]};let Dt=(()=>{class a{constructor(t,i,o){this.swmService=t,this.dialog=i,this._snackBar=o,this.columnNames=[{columnDef:"sno",header:"Sr.No."},{columnDef:"nodeName",header:"Node Name"},{columnDef:"wardName",header:"Ward Name"},{columnDef:"sectorName",header:"Sector Name"},{columnDef:"plot",header:"Plot"},{columnDef:"locationName",header:"Location Name"},{columnDef:"locationType",header:"Location Type"},{columnDef:"latitudePoint",header:"Latitude Point"},{columnDef:"longitudePoint",header:"Longitude Point"},{columnDef:"contactNumber",header:"Contact Number"},{columnDef:"actions",header:"Actions"}],this.departments=new c.by,this.displayedColumns=[],this.contentLoaded=!1,this.statusAction=""}ngOnInit(){this.displayedColumns=this.displayedColumns.concat(this.columnNames.map(t=>t.columnDef)),this.getLocation()}getLocation(){this.swmService.getLocation().subscribe(t=>{this.departments.data=t,this.departments.data=this.departments.data.sort((i,o)=>i.id-o.id),setTimeout(()=>{this.departments.sort=this.sort,this.departments.paginator=this.paginator}),setTimeout(()=>{this.contentLoaded=!0},2e3)},t=>{this.contentLoaded=!0})}add(){this.dialog.open(L,{width:"950px",data:{isEditMode:!1}}).afterClosed().subscribe(i=>{"Success"==i.data&&(this.contentLoaded=!1,this.getLocation())})}applyFilter(t){this.departments.filter=t.target.value.trim().toLowerCase()}onSlideToggleChange(t,i){1==i.checked?(this.statusAction="Activate",t.activeFlag="Y"):(this.statusAction="Deactivate",t.activeFlag="N");var o={activeFlag:t.activeFlag};this.dialog.open(N.h,{width:"550px",data:{mode:this.statusAction,component:"location"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(l=>{"success"==l?"Activate"==this.statusAction?this.swmService.activeInactiveLocation(t.id,o).subscribe(d=>{this._snackBar.success("Selected location activated"),this.getLocation()},d=>{this._snackBar.error("Activation Failed"),this.getLocation()}):this.swmService.activeInactiveLocation(t.id,o).subscribe(d=>{this._snackBar.success("Selected location Deactivated"),this.getLocation()},d=>{this._snackBar.error("Deactivation Failed"),this.getLocation()}):this.getLocation()})}onEdit(t){this.dialog.open(L,{width:"950px",data:{isEditMode:!0,row:t}}).afterClosed().subscribe(o=>{"Success"==o.data&&(this.contentLoaded=!1,this.getLocation())})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(v),e.Y36(u.uw),e.Y36(C.a))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-location"]],viewQuery:function(i,o){if(1&i&&(e.Gf(f.YE,5),e.Gf(_.NW,5)),2&i){let n;e.iGM(n=e.CRH())&&(o.sort=n.first),e.iGM(n=e.CRH())&&(o.paginator=n.first)}},decls:21,vars:7,consts:[[2,"margin","1.4rem"],[1,"w-full","p-4"],[1,"lg:flex","lg:items-center","lg:justify-between"],[1,"min-w-0","flex-1"],[1,"text-2xl","font-bold"],[1,"mt-5","flex","lg:ml-4","lg:mt-0"],[1,"sm:ml-3"],["type","button",1,"text-white","bg-gray-800","hover:bg-gray-900","focus:outline-none","focus:ring-4","focus:ring-gray-300","font-medium","rounded-lg","text-lg","px-2","py-2.5","text-center","inline-flex","items-center","mr-2","dark:bg-gray-800","dark:hover:bg-gray-700","dark:focus:ring-gray-700","dark:border-gray-700",3,"click"],["aria-hidden","true","fill","currentColor","stroke","currentColor","stroke-width","1.5","viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg","aria-hidden","true",1,"w-5","h-5","mr-2","-ml-1","mb-2"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v12m6-6H6"],["appearance","outline",1,"searchBox"],["matInput","","placeholder","Search",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["count","4","appearance","line","animation","progress-dark",4,"ngIf"],[4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["slideToggleTemplate",""],[1,"action"],[1,"mdc-switch",3,"checked","change"],["mat-icon-button","","matTooltip","Edit Job",3,"disabled","click"],["mat-header-row",""],["mat-row",""],["count","4","appearance","line","animation","progress-dark"]],template:function(i,o){1&i&&(e.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),e._uU(6,"Location"),e.qZA()(),e.TgZ(7,"div",5)(8,"span",6)(9,"button",7),e.NdJ("click",function(){return o.add()}),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA(),e._uU(12," Add new location "),e.qZA()()()()(),e.kcU(),e.TgZ(13,"div",1)(14,"mat-form-field",10)(15,"input",11,12),e.NdJ("keyup",function(l){return o.applyFilter(l)}),e.qZA()(),e.YNc(17,Ut,4,4,"table",13),e._UZ(18,"mat-paginator",14),e.YNc(19,qt,1,0,"ngx-skeleton-loader",15),e.YNc(20,Ft,2,0,"h3",16),e.qZA()()()),2&i&&(e.ekj("mat-elevation-z8",!0),e.xp6(17),e.Q6J("ngIf",o.departments.data.length>0&&o.contentLoaded),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,St)),e.xp6(1),e.Q6J("ngIf",!o.contentLoaded),e.xp6(1),e.Q6J("ngIf",0==o.departments.data.length&&o.contentLoaded))},dependencies:[x.RK,b.Hw,w.a8,w.dn,p.KE,T.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,f.YE,f.nU,A.Rr,I.xr,g.sg,g.O5]})}return a})();function Jt(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Location Type is required. "),e.qZA())}function Yt(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Description is required. "),e.qZA())}let Q=(()=>{class a{constructor(t,i,o,n,l,d,y){this.fb=t,this.locationTypeService=i,this._snackBar=o,this.dialog=n,this.snackBar=l,this.dialogRef=d,this.data=y,this.errorMessage=""}ngOnInit(){if(this.userId=localStorage.getItem("userId"),this.createdUserId=this.userId,this.updateUserId=this.userId,this.addedit=this.data.isEditMode,this.locationTypeForm=this.fb.group({locationType:["",s.kI.required],description:["",s.kI.required]}),this.addedit){const t=this.data.row;this.id=t.id,this.createdUserId=t.createdUserId,this.updateUserId=this.userId,this.locationTypeForm.patchValue({locationType:t.locationType,description:t.description})}}save(){if(this.locationTypeForm.valid){const t={id:this.id,locationType:this.locationTypeForm.value.locationType,description:this.locationTypeForm.value.description,createdUserId:this.createdUserId,updateUserId:this.updateUserId,activeFlag:"Y"};this.dialog.open(Z.S,{width:"550px",data:{mode:this.addedit?"Edit":"Add",component:"Location Type"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(o=>{"success"===o&&this.locationTypeService.saveLocationType(t).subscribe(n=>{"Success"===n.status?(this.showSnackBar(0==this.addedit?"location type added successfully":"location type updated successfully","success"),setTimeout(()=>{this.dialogRef.close({data:"Success"})},1e3)):this.showSnackBar(0==this.addedit?"Error: location type addition failed":"Error: location type updation failed","error")},n=>{this.showSnackBar(0==this.addedit?"Error: location type addition failed":"Error: location type updation failed","error")})})}}showSnackBar(t,i){this.snackBar.open(t,"Close",{duration:3e3,panelClass:"success"===i?["success-snackbar"]:["error-snackbar"]})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(s.qu),e.Y36(v),e.Y36(C.a),e.Y36(u.uw),e.Y36(k.ux),e.Y36(u.so),e.Y36(u.WI))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-locationtype"]],decls:22,vars:5,consts:[[1,"bg-gray-100","p-6"],["id","close-icon",1,"close-icon",2,"float","right","cursor","pointer",3,"click"],[1,"mx-auto","max-w-md"],[1,"text-2xl","font-bold","mb-8"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","lg:grid-cols-1","gap-3"],[1,"w-full"],["matInput","","formControlName","locationType","required",""],[4,"ngIf"],["matInput","","formControlName","description","required",""],["type","submit",1,"w-full","disabled:bg-gray-300","px-6","py-3","mt-3","text-lg","text-white","transition-all","duration-150","ease-linear","rounded-lg","shadow","outline-none","bg-green-500","hover:bg-green-600","hover:shadow-lg","focus:outline-none"],[1,"text-center","text-red-500","mt-2"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"mat-icon",1),e.NdJ("click",function(){return o.dialogRef.close()}),e._uU(2," close "),e.qZA(),e.TgZ(3,"div",2)(4,"h1",3),e._uU(5),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Location Type"),e.qZA(),e._UZ(11,"input",7),e.YNc(12,Jt,2,0,"mat-error",8),e.qZA(),e.TgZ(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Description"),e.qZA(),e._UZ(16,"textarea",9),e.YNc(17,Yt,2,0,"mat-error",8),e.qZA()(),e.TgZ(18,"button",10),e._uU(19," Save "),e.qZA(),e.TgZ(20,"div",11),e._uU(21),e.qZA()()()()),2&i&&(e.xp6(5),e.hij("",o.addedit?"Edit":"Add"," Location Type"),e.xp6(1),e.Q6J("formGroup",o.locationTypeForm),e.xp6(6),e.Q6J("ngIf",o.locationTypeForm.get("locationType").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.locationTypeForm.get("description").hasError("required")),e.xp6(4),e.hij(" ",o.errorMessage," "))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,b.Hw,p.KE,p.hX,p.TO,T.Nt,g.O5]})}return a})();function Bt(a,r){if(1&a&&(e.TgZ(0,"th",24),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.header)}}function Lt(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.columnDef]," ")}}function Qt(a,r){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=e.oxw().index;e.xp6(1),e.hij(" ",t+1," ")}}function Et(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",28)(1,"mat-slide-toggle",29),e.NdJ("change",function(o){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.onSlideToggleChange(n,o))}),e.qZA(),e.TgZ(2,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw(3);return e.KtG(n.onEdit(o))}),e.TgZ(3,"mat-icon"),e._uU(4,"edit"),e.qZA()()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("checked","Y"===t.activeFlag),e.xp6(1),e.Q6J("disabled","N"===t.activeFlag)}}function Vt(a,r){if(1&a&&(e.TgZ(0,"td",25),e.YNc(1,Lt,2,1,"ng-container",26),e.YNc(2,Qt,2,1,"div",16),e.YNc(3,Et,5,2,"ng-template",null,27,e.W1O),e.qZA()),2&a){const t=e.MAs(4),i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","actions"!==i.columnDef&&"sno"!==i.Def)("ngIfElse",t),e.xp6(1),e.Q6J("ngIf","sno"===i.columnDef)}}function Rt(a,r){1&a&&(e.ynx(0,21),e.YNc(1,Bt,2,1,"th",22),e.YNc(2,Vt,5,3,"td",23),e.BQk()),2&a&&e.Q6J("matColumnDef",r.$implicit.columnDef)}function Mt(a,r){1&a&&e._UZ(0,"tr",31)}function $t(a,r){1&a&&e._UZ(0,"tr",32)}function Pt(a,r){if(1&a&&(e.TgZ(0,"table",17),e.YNc(1,Rt,3,1,"ng-container",18),e.YNc(2,Mt,1,0,"tr",19),e.YNc(3,$t,1,0,"tr",20),e.qZA()),2&a){const t=e.oxw();e.Q6J("dataSource",t.departments),e.xp6(1),e.Q6J("ngForOf",t.columnNames),e.xp6(1),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}function Ot(a,r){1&a&&e._UZ(0,"ngx-skeleton-loader",33)}function Wt(a,r){1&a&&(e.TgZ(0,"h3"),e._uU(1,"No data available."),e.qZA())}const Ht=function(){return[20,40,60]};let jt=(()=>{class a{constructor(t,i,o){this.swmService=t,this.dialog=i,this._snackBar=o,this.columnNames=[{columnDef:"sno",header:"Sr.No."},{columnDef:"locationType",header:"Location Type "},{columnDef:"description",header:"Description"},{columnDef:"actions",header:"Actions"}],this.departments=new c.by,this.displayedColumns=[],this.contentLoaded=!1,this.statusAction=""}ngOnInit(){this.displayedColumns=this.displayedColumns.concat(this.columnNames.map(t=>t.columnDef)),this.getLocationType()}getLocationType(){this.swmService.getLocationType().subscribe(t=>{this.departments.data=t.locationTypeMasterList,this.departments.data=this.departments.data.sort((i,o)=>i.id-o.id),setTimeout(()=>{this.departments.sort=this.sort,this.departments.paginator=this.paginator}),setTimeout(()=>{this.contentLoaded=!0},2e3)},t=>{this.contentLoaded=!0})}add(){this.dialog.open(Q,{width:"550px",data:{isEditMode:!1}}).afterClosed().subscribe(i=>{"Success"==i.data&&(this.contentLoaded=!1,this.getLocationType())})}applyFilter(t){this.departments.filter=t.target.value.trim().toLowerCase()}onSlideToggleChange(t,i){1==i.checked?(this.statusAction="Activate",t.activeFlag="Y"):(this.statusAction="Deactivate",t.activeFlag="N");var o={activeFlag:t.activeFlag};this.dialog.open(N.h,{width:"550px",data:{mode:this.statusAction,component:"location type"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(l=>{"success"==l?"Activate"==this.statusAction?this.swmService.activeInactiveLocationType(t.id,o).subscribe(d=>{this._snackBar.success("Selected location type activated"),this.getLocationType()},d=>{this._snackBar.error("Activation Failed"),this.getLocationType()}):this.swmService.activeInactiveLocationType(t.id,o).subscribe(d=>{this._snackBar.success("Selected location type Deactivated"),this.getLocationType()},d=>{this._snackBar.error("Deactivation Failed"),this.getLocationType()}):this.getLocationType()})}onEdit(t){this.dialog.open(Q,{width:"550px",data:{isEditMode:!0,row:t}}).afterClosed().subscribe(o=>{"Success"==o.data&&(this.contentLoaded=!1,this.getLocationType())})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(v),e.Y36(u.uw),e.Y36(C.a))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-locationtype"]],viewQuery:function(i,o){if(1&i&&(e.Gf(f.YE,5),e.Gf(_.NW,5)),2&i){let n;e.iGM(n=e.CRH())&&(o.sort=n.first),e.iGM(n=e.CRH())&&(o.paginator=n.first)}},decls:21,vars:7,consts:[[2,"margin","1.4rem"],[1,"w-full","p-4"],[1,"lg:flex","lg:items-center","lg:justify-between"],[1,"min-w-0","flex-1"],[1,"text-2xl","font-bold"],[1,"mt-5","flex","lg:ml-4","lg:mt-0"],[1,"sm:ml-3"],["type","button",1,"text-white","bg-gray-800","hover:bg-gray-900","focus:outline-none","focus:ring-4","focus:ring-gray-300","font-medium","rounded-lg","text-lg","px-2","py-2.5","text-center","inline-flex","items-center","mr-2","dark:bg-gray-800","dark:hover:bg-gray-700","dark:focus:ring-gray-700","dark:border-gray-700",3,"click"],["aria-hidden","true","fill","currentColor","stroke","currentColor","stroke-width","1.5","viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg","aria-hidden","true",1,"w-5","h-5","mr-2","-ml-1","mb-2"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v12m6-6H6"],["appearance","outline",1,"searchBox"],["matInput","","placeholder","Search",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["count","4","appearance","line","animation","progress-dark",4,"ngIf"],[4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["slideToggleTemplate",""],[1,"action"],[1,"mdc-switch",3,"checked","change"],["mat-icon-button","","matTooltip","Edit Job",3,"disabled","click"],["mat-header-row",""],["mat-row",""],["count","4","appearance","line","animation","progress-dark"]],template:function(i,o){1&i&&(e.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),e._uU(6,"Location Type"),e.qZA()(),e.TgZ(7,"div",5)(8,"span",6)(9,"button",7),e.NdJ("click",function(){return o.add()}),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA(),e._uU(12," Add new location type "),e.qZA()()()()(),e.kcU(),e.TgZ(13,"div",1)(14,"mat-form-field",10)(15,"input",11,12),e.NdJ("keyup",function(l){return o.applyFilter(l)}),e.qZA()(),e.YNc(17,Pt,4,4,"table",13),e._UZ(18,"mat-paginator",14),e.YNc(19,Ot,1,0,"ngx-skeleton-loader",15),e.YNc(20,Wt,2,0,"h3",16),e.qZA()()()),2&i&&(e.ekj("mat-elevation-z8",!0),e.xp6(17),e.Q6J("ngIf",o.departments.data.length>0&&o.contentLoaded),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,Ht)),e.xp6(1),e.Q6J("ngIf",!o.contentLoaded),e.xp6(1),e.Q6J("ngIf",0==o.departments.data.length&&o.contentLoaded))},dependencies:[x.RK,b.Hw,w.a8,w.dn,p.KE,T.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,f.YE,f.nU,A.Rr,I.xr,g.sg,g.O5]})}return a})();var Gt=h(6413);function Kt(a,r){if(1&a&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nodeName)}}function zt(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Node is required. "),e.qZA())}function Xt(a,r){if(1&a&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.wardName)}}function ea(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Ward is required. "),e.qZA())}function ta(a,r){if(1&a&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.sectorName)}}function aa(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Sector is required. "),e.qZA())}function ia(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Plot is required. "),e.qZA())}let E=(()=>{class a{constructor(t,i,o,n,l,d,y,Qa){this.fb=t,this.parkingService=i,this._snackBar=o,this.snackBar=n,this.dialog=l,this.dialogRef=d,this.uploadService=y,this.data=Qa,this.errorMessage="",this.nodeName=null,this.wardName=null,this.sectorName=null,this.fileLocation=null}ngOnInit(){if(this.userId=localStorage.getItem("userId"),this.createdUserId=this.userId,this.updateUserId=this.userId,this.addedit=this.data.isEditMode,this.parkingForm=this.fb.group({nodeId:[null],wardId:[null],sectorId:[null,s.kI.required],plot:["",s.kI.required],locationName:[""]}),this.loadNodes(),this.loadWards(),this.addedit){const t=this.data.row;this.id=t.id,this.fileLocation=t.gisMarkingKml,this.createdUserId=t.createdUserId,this.updateUserId=this.userId,t.wardId?this.loadSectorsByWard(t.wardId):t.nodeId&&this.loadSectorsByNode(t.nodeId),this.disableEnableNodeAndWard(),this.parkingForm.patchValue({nodeId:t.nodeId,wardId:t.wardId,sectorId:t.sectorId,plot:t.plot,locationName:t.locationName})}}disableEnableNodeAndWard(){this.parkingForm.get("nodeId").disable({onlySelf:!0,emitEvent:!1}),this.parkingForm.get("wardId").disable({onlySelf:!0,emitEvent:!1}),this.parkingForm.get("nodeId").valueChanges.subscribe(t=>{null===t&&null!==this.parkingForm.get("wardId").value?this.parkingForm.get("nodeId").disable({onlySelf:!0,emitEvent:!1}):this.parkingForm.get("nodeId").enable({onlySelf:!0,emitEvent:!1})}),this.parkingForm.get("wardId").valueChanges.subscribe(t=>{null===t&&null!==this.parkingForm.get("nodeId").value?this.parkingForm.get("wardId").disable({onlySelf:!0,emitEvent:!1}):this.parkingForm.get("wardId").enable({onlySelf:!0,emitEvent:!1})})}loadNodes(){this.parkingService.getNode().subscribe(t=>{this.nodes=t.nodeMasterList})}loadWards(){this.parkingService.getWard().subscribe(t=>{this.wards=t.wardMasterList})}loadSectorsByNode(t){this.parkingService.getlsectorbynode(t).subscribe(i=>{this.sectors=i})}onNodeChange(t){this.nodeName=this.nodes.find(i=>i.id===t)?.nodeName||"",this.loadSectorsByNode(t),this.disableEnableNodeAndWard()}loadSectorsByWard(t){this.parkingService.getsectorbyward(t).subscribe(i=>{this.sectors=i})}onWardChange(t){this.wardName=this.wards.find(i=>i.id===t)?.wardName||"",this.loadSectorsByWard(t),this.disableEnableNodeAndWard()}onSectorChange(t){this.sectorName=this.sectors.find(i=>i.id===t)?.sectorName||""}onFileChange(t){const i=t.target;i.files&&i.files.length>0?this.uploadService.uploadFile(i.files[0]).then(l=>{this.fileLocation=JSON.parse(l).filePath,this.fileName=JSON.parse(l).fileName,this._snackBar.success("File Uploaded Successfully"),this.errorMessage=""}):this._snackBar.error("Please select a document type")}save(){if(null==this.fileLocation&&(this.parkingForm.setErrors({"File error":!0}),this.errorMessage="Please Upload the file"),this.parkingForm.valid){const t={id:this.id,nodeId:this.parkingForm.value.nodeId,wardId:this.parkingForm.value.wardId,sectorId:this.parkingForm.value.sectorId,plot:this.parkingForm.value.plot,locationName:this.parkingForm.value.locationName,gisMarkingKml:this.fileLocation,createdUserId:this.createdUserId,updateUserId:this.updateUserId,activeFlag:"Y"};this.dialog.open(Z.S,{width:"550px",data:{mode:this.addedit?"Edit":"Add",component:"Vehicle Parking"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(o=>{"success"===o&&this.parkingService.saveVehicleParking(t).subscribe(n=>{"Success"===n.status?(this.showSnackBar(0==this.addedit?"vehicle parking added successfully":"vehicle parking updated successfully","success"),setTimeout(()=>{this.dialogRef.close({data:"Success"})},1e3)):this.showSnackBar(0==this.addedit?"Error: vehicle parking addition failed":"Error: vehicle parking updation failed","error")},n=>{this.showSnackBar(0==this.addedit?"Error: vehicle parking addition failed":"Error: vehicle parking updation failed","error")})})}}showSnackBar(t,i){this.snackBar.open(t,"Close",{duration:3e3,panelClass:"success"===i?["success-snackbar"]:["error-snackbar"]})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(s.qu),e.Y36(v),e.Y36(C.a),e.Y36(k.ux),e.Y36(u.uw),e.Y36(u.so),e.Y36(Gt.J),e.Y36(u.WI))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-vehicle-parking"]],decls:50,vars:12,consts:[[1,"bg-gray-100","p-6"],["id","close-icon",1,"close-icon",2,"float","right","cursor","pointer",3,"click"],[1,"mx-auto","max-w-md"],[1,"text-2xl","font-bold","mb-8"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","lg:grid-cols-1","gap-3"],[1,"w-full"],["formControlName","nodeId","required","",3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"w-full","flex","justify-center"],["formControlName","wardId","required","",3,"valueChange"],["formControlName","sectorId","required","",3,"valueChange"],["matInput","","formControlName","plot","required",""],["matInput","","formControlName","locationName"],["for","rctUpload",1,"block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","button",1,"w-full","border","rounded-md","px-4","py-2","bg-blue-500","text-gray-100","focus:outline-none","focus:border-blue-400",3,"click"],["type","file","name","my_file","id","my-file",3,"hidden","change"],["file",""],["type","submit",1,"w-full","disabled:bg-gray-300","px-6","py-3","mt-3","text-lg","text-white","transition-all","duration-150","ease-linear","rounded-lg","shadow","outline-none","bg-green-500","hover:bg-green-600","hover:shadow-lg","focus:outline-none"],[1,"text-center","text-red-500","mt-2"],[3,"value"]],template:function(i,o){if(1&i){const n=e.EpF();e.TgZ(0,"div",0)(1,"mat-icon",1),e.NdJ("click",function(){return o.dialogRef.close()}),e._uU(2,"close"),e.qZA(),e.TgZ(3,"div",2)(4,"h1",3),e._uU(5),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Node"),e.qZA(),e.TgZ(11,"mat-select",7),e.NdJ("valueChange",function(d){return o.onNodeChange(d)}),e.YNc(12,Kt,2,2,"mat-option",8),e.qZA(),e.YNc(13,zt,2,0,"mat-error",9),e.qZA(),e.TgZ(14,"div",10),e._uU(15,"or"),e.qZA(),e.TgZ(16,"mat-form-field",6)(17,"mat-label"),e._uU(18,"Ward"),e.qZA(),e.TgZ(19,"mat-select",11),e.NdJ("valueChange",function(d){return o.onWardChange(d)}),e.YNc(20,Xt,2,2,"mat-option",8),e.qZA(),e.YNc(21,ea,2,0,"mat-error",9),e.qZA(),e.TgZ(22,"mat-form-field",6)(23,"mat-label"),e._uU(24,"Sector"),e.qZA(),e.TgZ(25,"mat-select",12),e.NdJ("valueChange",function(d){return o.onSectorChange(d)}),e.YNc(26,ta,2,2,"mat-option",8),e.qZA(),e.YNc(27,aa,2,0,"mat-error",9),e.qZA(),e.TgZ(28,"mat-form-field",6)(29,"mat-label"),e._uU(30,"Plot"),e.qZA(),e._UZ(31,"input",13),e.YNc(32,ia,2,0,"mat-error",9),e.qZA(),e.TgZ(33,"mat-form-field",6)(34,"mat-label"),e._uU(35,"Location Name"),e.qZA(),e._UZ(36,"input",14),e.qZA(),e.TgZ(37,"div")(38,"label",15),e._uU(39,"GIS Marking KML"),e.qZA(),e.TgZ(40,"button",16),e.NdJ("click",function(){e.CHM(n);const d=e.MAs(43);return e.KtG(d.click())}),e._uU(41," Upload "),e.qZA(),e.TgZ(42,"input",17,18),e.NdJ("change",function(d){return o.onFileChange(d)}),e.qZA(),e.TgZ(44,"span"),e._uU(45),e.qZA()()(),e.TgZ(46,"button",19),e._uU(47," Save "),e.qZA(),e.TgZ(48,"div",20),e._uU(49),e.qZA()()()()}2&i&&(e.xp6(5),e.hij("",o.addedit?"Edit":"Add"," Vehicle Parking"),e.xp6(1),e.Q6J("formGroup",o.parkingForm),e.xp6(6),e.Q6J("ngForOf",o.nodes),e.xp6(1),e.Q6J("ngIf",!o.parkingForm.value.nodeId&&!o.parkingForm.value.wardId),e.xp6(7),e.Q6J("ngForOf",o.wards),e.xp6(1),e.Q6J("ngIf",!o.parkingForm.value.nodeId&&!o.parkingForm.value.wardId),e.xp6(5),e.Q6J("ngForOf",o.sectors),e.xp6(1),e.Q6J("ngIf",o.parkingForm.get("sectorId").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.parkingForm.get("plot").hasError("required")),e.xp6(10),e.Q6J("hidden",!0),e.xp6(3),e.Oqu(o.fileName),e.xp6(4),e.hij(" ",o.errorMessage," "))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,b.Hw,p.KE,p.hX,p.TO,T.Nt,U.gD,q.ey,g.sg,g.O5]})}return a})();function oa(a,r){if(1&a&&(e.TgZ(0,"th",24),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.header)}}function na(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.columnDef]," ")}}function ra(a,r){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=e.oxw().index;e.xp6(1),e.hij(" ",t+1," ")}}function sa(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",28)(1,"mat-slide-toggle",29),e.NdJ("change",function(o){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.onSlideToggleChange(n,o))}),e.qZA(),e.TgZ(2,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw(3);return e.KtG(n.onEdit(o))}),e.TgZ(3,"mat-icon"),e._uU(4,"edit"),e.qZA()()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("checked","Y"===t.activeFlag),e.xp6(1),e.Q6J("disabled","N"===t.activeFlag)}}function ca(a,r){if(1&a&&(e.TgZ(0,"td",25),e.YNc(1,na,2,1,"ng-container",26),e.YNc(2,ra,2,1,"div",16),e.YNc(3,sa,5,2,"ng-template",null,27,e.W1O),e.qZA()),2&a){const t=e.MAs(4),i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","actions"!==i.columnDef&&"sno"!==i.Def)("ngIfElse",t),e.xp6(1),e.Q6J("ngIf","sno"===i.columnDef)}}function la(a,r){1&a&&(e.ynx(0,21),e.YNc(1,oa,2,1,"th",22),e.YNc(2,ca,5,3,"td",23),e.BQk()),2&a&&e.Q6J("matColumnDef",r.$implicit.columnDef)}function da(a,r){1&a&&e._UZ(0,"tr",31)}function ma(a,r){1&a&&e._UZ(0,"tr",32)}function ua(a,r){if(1&a&&(e.TgZ(0,"table",17),e.YNc(1,la,3,1,"ng-container",18),e.YNc(2,da,1,0,"tr",19),e.YNc(3,ma,1,0,"tr",20),e.qZA()),2&a){const t=e.oxw();e.Q6J("dataSource",t.departments),e.xp6(1),e.Q6J("ngForOf",t.columnNames),e.xp6(1),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}function pa(a,r){1&a&&e._UZ(0,"ngx-skeleton-loader",33)}function ga(a,r){1&a&&(e.TgZ(0,"h3"),e._uU(1,"No data available."),e.qZA())}const ha=function(){return[20,40,60]};let fa=(()=>{class a{constructor(t,i,o){this.swmService=t,this.dialog=i,this._snackBar=o,this.columnNames=[{columnDef:"sno",header:"Sr.No."},{columnDef:"nodeName",header:"Node Name"},{columnDef:"wardName",header:"Ward Name"},{columnDef:"sectorName",header:"Sector Name"},{columnDef:"plot",header:"Plot"},{columnDef:"locationName",header:"Location Name"},{columnDef:"actions",header:"Actions"}],this.departments=new c.by,this.displayedColumns=[],this.contentLoaded=!1,this.statusAction=""}ngOnInit(){this.displayedColumns=this.displayedColumns.concat(this.columnNames.map(t=>t.columnDef)),this.getVehicleParking()}getVehicleParking(){this.swmService.getVehicleParking().subscribe(t=>{this.departments.data=t,this.departments.data=this.departments.data.sort((i,o)=>i.id-o.id),setTimeout(()=>{this.departments.sort=this.sort,this.departments.paginator=this.paginator}),setTimeout(()=>{this.contentLoaded=!0},2e3)},t=>{this.contentLoaded=!0})}add(){this.dialog.open(E,{width:"550px",data:{isEditMode:!1}}).afterClosed().subscribe(i=>{"Success"==i.data&&(this.contentLoaded=!1,this.getVehicleParking())})}applyFilter(t){this.departments.filter=t.target.value.trim().toLowerCase()}onSlideToggleChange(t,i){1==i.checked?(this.statusAction="Activate",t.activeFlag="Y"):(this.statusAction="Deactivate",t.activeFlag="N");var o={activeFlag:t.activeFlag};this.dialog.open(N.h,{width:"550px",data:{mode:this.statusAction,component:"vehicle parking"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(l=>{"success"==l?"Activate"==this.statusAction?this.swmService.activeInactiveVehicleParking(t.id,o).subscribe(d=>{this._snackBar.success("Selected vehicle parking activated"),this.getVehicleParking()},d=>{this._snackBar.error("Activation Failed"),this.getVehicleParking()}):this.swmService.activeInactiveVehicleParking(t.id,o).subscribe(d=>{this._snackBar.success("Selected vehicle parking Deactivated"),this.getVehicleParking()},d=>{this._snackBar.error("Deactivation Failed"),this.getVehicleParking()}):this.getVehicleParking()})}onEdit(t){this.dialog.open(E,{width:"550px",data:{isEditMode:!0,row:t}}).afterClosed().subscribe(o=>{"Success"==o.data&&(this.contentLoaded=!1,this.getVehicleParking())})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(v),e.Y36(u.uw),e.Y36(C.a))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-vehicle-parking"]],viewQuery:function(i,o){if(1&i&&(e.Gf(f.YE,5),e.Gf(_.NW,5)),2&i){let n;e.iGM(n=e.CRH())&&(o.sort=n.first),e.iGM(n=e.CRH())&&(o.paginator=n.first)}},decls:21,vars:7,consts:[[2,"margin","1.4rem"],[1,"w-full","p-4"],[1,"lg:flex","lg:items-center","lg:justify-between"],[1,"min-w-0","flex-1"],[1,"text-2xl","font-bold"],[1,"mt-5","flex","lg:ml-4","lg:mt-0"],[1,"sm:ml-3"],["type","button",1,"text-white","bg-gray-800","hover:bg-gray-900","focus:outline-none","focus:ring-4","focus:ring-gray-300","font-medium","rounded-lg","text-lg","px-2","py-2.5","text-center","inline-flex","items-center","mr-2","dark:bg-gray-800","dark:hover:bg-gray-700","dark:focus:ring-gray-700","dark:border-gray-700",3,"click"],["aria-hidden","true","fill","currentColor","stroke","currentColor","stroke-width","1.5","viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg","aria-hidden","true",1,"w-5","h-5","mr-2","-ml-1","mb-2"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v12m6-6H6"],["appearance","outline",1,"searchBox"],["matInput","","placeholder","Search",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["count","4","appearance","line","animation","progress-dark",4,"ngIf"],[4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["slideToggleTemplate",""],[1,"action"],[1,"mdc-switch",3,"checked","change"],["mat-icon-button","","matTooltip","Edit Job",3,"disabled","click"],["mat-header-row",""],["mat-row",""],["count","4","appearance","line","animation","progress-dark"]],template:function(i,o){1&i&&(e.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),e._uU(6,"Vehicle Parking"),e.qZA()(),e.TgZ(7,"div",5)(8,"span",6)(9,"button",7),e.NdJ("click",function(){return o.add()}),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA(),e._uU(12," Add new vehicle parking "),e.qZA()()()()(),e.kcU(),e.TgZ(13,"div",1)(14,"mat-form-field",10)(15,"input",11,12),e.NdJ("keyup",function(l){return o.applyFilter(l)}),e.qZA()(),e.YNc(17,ua,4,4,"table",13),e._UZ(18,"mat-paginator",14),e.YNc(19,pa,1,0,"ngx-skeleton-loader",15),e.YNc(20,ga,2,0,"h3",16),e.qZA()()()),2&i&&(e.ekj("mat-elevation-z8",!0),e.xp6(17),e.Q6J("ngIf",o.departments.data.length>0&&o.contentLoaded),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,ha)),e.xp6(1),e.Q6J("ngIf",!o.contentLoaded),e.xp6(1),e.Q6J("ngIf",0==o.departments.data.length&&o.contentLoaded))},dependencies:[x.RK,b.Hw,w.a8,w.dn,p.KE,T.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,f.YE,f.nU,A.Rr,I.xr,g.sg,g.O5]})}return a})();function _a(a,r){if(1&a&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function va(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Bin Color is required. "),e.qZA())}function Ca(a,r){if(1&a&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ba(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Capacity is required. "),e.qZA())}function Ta(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Bin Number is required. "),e.qZA())}let V=(()=>{class a{constructor(t,i,o,n,l,d,y){this.fb=t,this.binMasterService=i,this._snackBar=o,this.snackBar=n,this.dialog=l,this.dialogRef=d,this.data=y,this.errorMessage="",this.binColors=[],this.capacities=[]}ngOnInit(){if(this.userId=localStorage.getItem("userId"),this.createdUserId=this.userId,this.updateUserId=this.userId,this.addedit=this.data.isEditMode,this.binMasterForm=this.fb.group({binColorId:[null,s.kI.required],capacityId:[null,s.kI.required],binNumber:["",s.kI.required],binRfidTag:["",s.kI.required],status:["",s.kI.required],remark:[""]}),this.loadBinColors(),this.loadCapacities(),this.addedit){const t=this.data.row;this.id=t.id,this.createdUserId=t.createdUserId,this.updateUserId=this.userId,this.binMasterForm.patchValue({binColorId:t.binColorId,capacityId:t.capacityId,binNumber:t.binNumber,binRfidTag:t.binRfidTag,status:t.status,remark:t.remark})}}loadBinColors(){}loadCapacities(){}save(){if(this.binMasterForm.valid){const t={id:this.id,binColorId:this.binMasterForm.value.binColorId,capacityId:this.binMasterForm.value.capacityId,binNumber:this.binMasterForm.value.binNumber,binRfidTag:this.binMasterForm.value.binRfidTag,status:this.binMasterForm.value.status,remark:this.binMasterForm.value.remark,createdUserId:this.createdUserId,updateUserId:this.updateUserId,activeFlag:"Y"};this.dialog.open(Z.S,{width:"550px",data:{mode:this.addedit?"Edit":"Add",component:"Bin Master"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(o=>{"success"===o&&this.binMasterService.saveBin(t).subscribe(n=>{"success"===n.status?(this.showSnackBar(0==this.addedit?"bin added successfully":"bin updated successfully","success"),setTimeout(()=>{this.dialogRef.close({data:"Success"})},1e3)):this.showSnackBar(0==this.addedit?"Error: bin addition failed":"Error: bin updation failed","error")},n=>{this.showSnackBar(0==this.addedit?"Error: bin addition failed":"Error: bin updation failed","error")})})}}showSnackBar(t,i){this.snackBar.open(t,"Close",{duration:3e3,panelClass:"success"===i?["success-snackbar"]:["error-snackbar"]})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(s.qu),e.Y36(v),e.Y36(C.a),e.Y36(k.ux),e.Y36(u.uw),e.Y36(u.so),e.Y36(u.WI))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-bin"]],decls:45,vars:8,consts:[[1,"bg-gray-100","p-6"],["id","close-icon",1,"close-icon",2,"float","right","cursor","pointer",3,"click"],[1,"mx-auto","max-w-md"],[1,"text-2xl","font-bold","mb-8"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","lg:grid-cols-1","gap-3"],[1,"w-full"],["formControlName","binColorId","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","capacityId","required",""],["matInput","","formControlName","binNumber","required",""],["matInput","","formControlName","binRfidTag"],["formControlName","status"],["value","Active"],["value","Inactive"],["matInput","","formControlName","remark"],["type","submit",1,"w-full","disabled:bg-gray-300","px-6","py-3","mt-3","text-lg","text-white","transition-all","duration-150","ease-linear","rounded-lg","shadow","outline-none","bg-green-500","hover:bg-green-600","hover:shadow-lg","focus:outline-none"],[1,"text-center","text-red-500","mt-2"],[3,"value"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"mat-icon",1),e.NdJ("click",function(){return o.dialogRef.close()}),e._uU(2," close "),e.qZA(),e.TgZ(3,"div",2)(4,"h1",3),e._uU(5),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Bin Color"),e.qZA(),e.TgZ(11,"mat-select",7),e.YNc(12,_a,2,2,"mat-option",8),e.qZA(),e.YNc(13,va,2,0,"mat-error",9),e.qZA(),e.TgZ(14,"mat-form-field",6)(15,"mat-label"),e._uU(16,"Capacity"),e.qZA(),e.TgZ(17,"mat-select",10),e.YNc(18,Ca,2,2,"mat-option",8),e.qZA(),e.YNc(19,ba,2,0,"mat-error",9),e.qZA(),e.TgZ(20,"mat-form-field",6)(21,"mat-label"),e._uU(22,"Bin Number"),e.qZA(),e._UZ(23,"input",11),e.YNc(24,Ta,2,0,"mat-error",9),e.qZA(),e.TgZ(25,"mat-form-field",6)(26,"mat-label"),e._uU(27,"Bin RFID Tag"),e.qZA(),e._UZ(28,"input",12),e.qZA(),e.TgZ(29,"mat-form-field",6)(30,"mat-label"),e._uU(31,"Status"),e.qZA(),e.TgZ(32,"mat-select",13)(33,"mat-option",14),e._uU(34,"Active"),e.qZA(),e.TgZ(35,"mat-option",15),e._uU(36,"Inactive"),e.qZA()()(),e.TgZ(37,"mat-form-field",6)(38,"mat-label"),e._uU(39,"Remark"),e.qZA(),e._UZ(40,"textarea",16),e.qZA()(),e.TgZ(41,"button",17),e._uU(42," Save "),e.qZA(),e.TgZ(43,"div",18),e._uU(44),e.qZA()()()()),2&i&&(e.xp6(5),e.hij("",o.addedit?"Edit":"Add"," Bin Master"),e.xp6(1),e.Q6J("formGroup",o.binMasterForm),e.xp6(6),e.Q6J("ngForOf",o.binColors),e.xp6(1),e.Q6J("ngIf",o.binMasterForm.get("binColorId").hasError("required")),e.xp6(5),e.Q6J("ngForOf",o.capacities),e.xp6(1),e.Q6J("ngIf",o.binMasterForm.get("capacityId").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.binMasterForm.get("binNumber").hasError("required")),e.xp6(20),e.hij(" ",o.errorMessage," "))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,b.Hw,p.KE,p.hX,p.TO,T.Nt,U.gD,q.ey,g.sg,g.O5]})}return a})();function wa(a,r){if(1&a&&(e.TgZ(0,"th",24),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.header)}}function ya(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.columnDef]," ")}}function Za(a,r){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=e.oxw().index;e.xp6(1),e.hij(" ",t+1," ")}}function ka(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",28)(1,"mat-slide-toggle",29),e.NdJ("change",function(o){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.onSlideToggleChange(n,o))}),e.qZA(),e.TgZ(2,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw(3);return e.KtG(n.onEdit(o))}),e.TgZ(3,"mat-icon"),e._uU(4,"edit"),e.qZA()()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("checked","Y"===t.activeFlag),e.xp6(1),e.Q6J("disabled","N"===t.activeFlag)}}function Na(a,r){if(1&a&&(e.TgZ(0,"td",25),e.YNc(1,ya,2,1,"ng-container",26),e.YNc(2,Za,2,1,"div",16),e.YNc(3,ka,5,2,"ng-template",null,27,e.W1O),e.qZA()),2&a){const t=e.MAs(4),i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","actions"!==i.columnDef&&"sno"!==i.Def)("ngIfElse",t),e.xp6(1),e.Q6J("ngIf","sno"===i.columnDef)}}function xa(a,r){1&a&&(e.ynx(0,21),e.YNc(1,wa,2,1,"th",22),e.YNc(2,Na,5,3,"td",23),e.BQk()),2&a&&e.Q6J("matColumnDef",r.$implicit.columnDef)}function Aa(a,r){1&a&&e._UZ(0,"tr",31)}function Ia(a,r){1&a&&e._UZ(0,"tr",32)}function Ua(a,r){if(1&a&&(e.TgZ(0,"table",17),e.YNc(1,xa,3,1,"ng-container",18),e.YNc(2,Aa,1,0,"tr",19),e.YNc(3,Ia,1,0,"tr",20),e.qZA()),2&a){const t=e.oxw();e.Q6J("dataSource",t.departments),e.xp6(1),e.Q6J("ngForOf",t.columnNames),e.xp6(1),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}function qa(a,r){1&a&&e._UZ(0,"ngx-skeleton-loader",33)}function Fa(a,r){1&a&&(e.TgZ(0,"h3"),e._uU(1,"No data available."),e.qZA())}const Sa=function(){return[20,40,60]},Ja=[{path:"",component:M},{path:"contractor",component:ue,canActivate:[st.w]},{path:"vehicle-type",component:Ne},{path:"waste-classification",component:Ee},{path:"contractor-vehicle",component:rt},{path:"location",component:Dt},{path:"location-type",component:jt},{path:"vehicle-parking",component:fa},{path:"bin",component:(()=>{class a{constructor(t,i,o){this.swmService=t,this.dialog=i,this._snackBar=o,this.columnNames=[{columnDef:"sno",header:"Sr.No."},{columnDef:"binColor",header:"Bin Color"},{columnDef:"binColorSuffix",header:"Bin Color Suffix"},{columnDef:"capacity",header:"Capacity"},{columnDef:"binNumber",header:"Bin Number"},{columnDef:"binRfidTag",header:"Bin RFID Tag"},{columnDef:"status",header:"Status"},{columnDef:"remark",header:"Remark"},{columnDef:"actions",header:"Actions"}],this.departments=new c.by,this.displayedColumns=[],this.contentLoaded=!1,this.statusAction=""}ngOnInit(){this.displayedColumns=this.displayedColumns.concat(this.columnNames.map(t=>t.columnDef)),this.getBin()}getBin(){this.swmService.getBin().subscribe(t=>{this.departments.data=t.binMasterList,this.departments.data=this.departments.data.sort((i,o)=>i.id-o.id),setTimeout(()=>{this.departments.sort=this.sort,this.departments.paginator=this.paginator}),setTimeout(()=>{this.contentLoaded=!0},2e3)},t=>{this.contentLoaded=!0})}add(){this.dialog.open(V,{width:"550px",data:{isEditMode:!1}}).afterClosed().subscribe(i=>{"Success"==i.data&&(this.contentLoaded=!1,this.getBin())})}applyFilter(t){this.departments.filter=t.target.value.trim().toLowerCase()}onSlideToggleChange(t,i){1==i.checked?(this.statusAction="Activate",t.activeFlag="Y"):(this.statusAction="Deactivate",t.activeFlag="N");var o={activeFlag:t.activeFlag};this.dialog.open(N.h,{width:"550px",data:{mode:this.statusAction,component:"bin"},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(l=>{"success"==l?"Activate"==this.statusAction?this.swmService.activeInactiveBin(t.id,o).subscribe(d=>{this._snackBar.success("Selected bin activated"),this.getBin()},d=>{this._snackBar.error("Activation Failed"),this.getBin()}):this.swmService.activeInactiveBin(t.id,o).subscribe(d=>{this._snackBar.success("Selected bin Deactivated"),this.getBin()},d=>{this._snackBar.error("Deactivation Failed"),this.getBin()}):this.getBin()})}onEdit(t){this.dialog.open(V,{width:"550px",data:{isEditMode:!0,row:t}}).afterClosed().subscribe(o=>{"Success"==o.data&&(this.contentLoaded=!1,this.getBin())})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(v),e.Y36(u.uw),e.Y36(C.a))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-bin"]],viewQuery:function(i,o){if(1&i&&(e.Gf(f.YE,5),e.Gf(_.NW,5)),2&i){let n;e.iGM(n=e.CRH())&&(o.sort=n.first),e.iGM(n=e.CRH())&&(o.paginator=n.first)}},decls:21,vars:7,consts:[[2,"margin","1.4rem"],[1,"w-full","p-4"],[1,"lg:flex","lg:items-center","lg:justify-between"],[1,"min-w-0","flex-1"],[1,"text-2xl","font-bold"],[1,"mt-5","flex","lg:ml-4","lg:mt-0"],[1,"sm:ml-3"],["type","button",1,"text-white","hover:bg-gray-900","focus:outline-none","focus:ring-4","focus:ring-gray-300","font-medium","rounded-lg","text-lg","px-2","py-2.5","text-center","inline-flex","items-center","mr-2","dark:bg-gray-800","dark:hover:bg-gray-700","dark:focus:ring-gray-700","dark:border-gray-700",2,"background-color","#3F51B5","color","#ffffff",3,"click"],["aria-hidden","true","fill","currentColor","stroke","currentColor","stroke-width","1.5","viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg","aria-hidden","true",1,"w-5","h-5","mr-2","-ml-1","mb-2"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v12m6-6H6"],["appearance","outline",1,"searchBox"],["matInput","","placeholder","Search",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["count","4","appearance","line","animation","progress-dark",4,"ngIf"],[4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["slideToggleTemplate",""],[1,"action"],["color","primary",1,"mdc-switch",3,"checked","change"],["mat-icon-button","","matTooltip","Edit Job",3,"disabled","click"],["mat-header-row",""],["mat-row",""],["count","4","appearance","line","animation","progress-dark"]],template:function(i,o){1&i&&(e.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),e._uU(6,"Bin"),e.qZA()(),e.TgZ(7,"div",5)(8,"span",6)(9,"button",7),e.NdJ("click",function(){return o.add()}),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA(),e._uU(12," Add new Bin "),e.qZA()()()()(),e.kcU(),e.TgZ(13,"div",1)(14,"mat-form-field",10)(15,"input",11,12),e.NdJ("keyup",function(l){return o.applyFilter(l)}),e.qZA()(),e.YNc(17,Ua,4,4,"table",13),e._UZ(18,"mat-paginator",14),e.YNc(19,qa,1,0,"ngx-skeleton-loader",15),e.YNc(20,Fa,2,0,"h3",16),e.qZA()()()),2&i&&(e.ekj("mat-elevation-z8",!0),e.xp6(17),e.Q6J("ngIf",o.departments.data.length>0&&o.contentLoaded),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,Sa)),e.xp6(1),e.Q6J("ngIf",!o.contentLoaded),e.xp6(1),e.Q6J("ngIf",0==o.departments.data.length&&o.contentLoaded))},dependencies:[x.RK,b.Hw,w.a8,w.dn,p.KE,T.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,f.YE,f.nU,A.Rr,I.xr,g.sg,g.O5]})}return a})()}];let Ya=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.oAB({type:a});static#a=this.\u0275inj=e.cJS({imports:[F.Bz.forChild(Ja),F.Bz]})}return a})();var Ba=h(4071);let La=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.oAB({type:a});static#a=this.\u0275inj=e.cJS({imports:[Ya,Ba.A,g.ez]})}return a})()}}]);